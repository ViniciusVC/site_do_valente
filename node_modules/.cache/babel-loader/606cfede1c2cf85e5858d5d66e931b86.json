{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport Div from '../../atoms/atDiv/index.js';\n\nvar orgEcossistema = function orgEcossistema(props) {\n  var relogio;\n  var personagens = [];\n  var ultimaTecla = \"parar\";\n\n  function funcPropSer(varNovo, NumSer, tipo, varPositX, varPositY) {\n    console.log(\"--->funcPropSer(\" + varNovo + \",\" + NumSer + \",\" + tipo + \",\" + varPositX + \",\" + varPositY + \")\");\n\n    if (varNovo == \"novo\") {\n      console.log(\"Criando NOVO personagens [\" + NumSer + \"]\");\n      personagens[NumSer] = {\n        \"tipo\": tipo,\n        \"width\": 20,\n        \"height\": 20,\n        \"direcao\": \"parado\",\n        \"objetivo\": \"nada\"\n      };\n      console.log(\"---> personagens[\" + NumSer + \"] = \" + personagens[NumSer]);\n      console.log(\"---> personagens[\" + NumSer + \"].tipo = \" + personagens[NumSer].tipo);\n      personagens[NumSer].objImg = new Image();\n    } //else if (==\"altera\"){ }\n\n\n    if (varPositX != \"manter\") {\n      personagens[NumSer].x = varPositX;\n    }\n\n    if (varPositY != \"manter\") {\n      personagens[NumSer].y = varPositY;\n    }\n\n    if (tipo == \"avatar\") {\n      personagens[NumSer].tipo = \"avatar\";\n      personagens[NumSer].hierarquia = 4;\n      personagens[NumSer].width = 20;\n      personagens[NumSer].height = 20;\n      personagens[NumSer].velocidade = 3;\n      personagens[NumSer].imge = \"https://images.vexels.com/media/users/3/177827/isolated/preview/03cbb4fb0d0318befadf121314e35d40-cabelo-de-monstro-monstro-liso-by-vexels.png\";\n      personagens[NumSer].img = \"https://images.vexels.com/media/users/3/177827/isolated/preview/03cbb4fb0d0318befadf121314e35d40-cabelo-de-monstro-monstro-liso-by-vexels.png\";\n      personagens[NumSer].objImg.src = \"https://images.vexels.com/media/users/3/177827/isolated/preview/03cbb4fb0d0318befadf121314e35d40-cabelo-de-monstro-monstro-liso-by-vexels.png\";\n      personagens[NumSer].direcao = \"parado\";\n      personagens[NumSer].objetivo = \"nada\";\n      personagens[NumSer].tempo = 100;\n    } else if (tipo == \"carnivoro\") {\n      personagens[NumSer].tipo = \"carnivoro\";\n      personagens[NumSer].hierarquia = 4;\n      personagens[NumSer].width = 40;\n      personagens[NumSer].height = 40;\n      personagens[NumSer].imge = \"/static/assetsv5/img/game/minitrexe.png\";\n      personagens[NumSer].img = \"/static/assetsv5/img/game/minitrex.png\";\n      personagens[NumSer].velocidade = 4;\n      personagens[NumSer].objImg.src = \"/static/assetsv5/img/game/minitrex.png\";\n      personagens[NumSer].direcao = \"parado\";\n      personagens[NumSer].objetivo = \"nada\";\n      personagens[NumSer].tempo = 2000;\n    } else if (tipo == \"herbivoro\") {\n      personagens[NumSer].tipo = \"herbivoro\";\n      personagens[NumSer].hierarquia = 3;\n      personagens[NumSer].width = 40;\n      personagens[NumSer].height = 20;\n      personagens[NumSer].velocidade = 2;\n      personagens[NumSer].imge = \"/static/assetsv5/img/game/herbivoroe.png\";\n      personagens[NumSer].img = \"/static/assetsv5/img/game/herbivoro.png\";\n      personagens[NumSer].objImg.src = \"/static/assetsv5/img/game/herbivoro.png\";\n      personagens[NumSer].direcao = \"parado\";\n      personagens[NumSer].objetivo = \"nada\";\n      personagens[NumSer].tempo = 1000;\n    } else if (tipo == \"ovo\") {\n      personagens[NumSer].tipo = \"ovo\";\n      personagens[NumSer].hierarquia = 2;\n      personagens[NumSer].width = 10;\n      personagens[NumSer].height = 10;\n      personagens[NumSer].velocidade = 0;\n      personagens[NumSer].imge = \"/static/assetsv5/img/game/ovo.png\";\n      personagens[NumSer].img = \"/static/assetsv5/img/game/ovo.png\";\n      personagens[NumSer].objImg.src = \"/static/assetsv5/img/game/ovo.png\";\n      personagens[NumSer].direcao = \"parado\";\n      personagens[NumSer].objetivo = \"nada\";\n      personagens[NumSer].tempo = 100;\n    } else if (tipo == \"planta\") {\n      personagens[NumSer].tipo = \"planta\";\n      personagens[NumSer].hierarquia = 1;\n      personagens[NumSer].width = 15;\n      personagens[NumSer].height = 15;\n      personagens[NumSer].velocidade = 0;\n      personagens[NumSer].imge = \"/static/assetsv5/img/game/planta.png\";\n      personagens[NumSer].img = \"/static/assetsv5/img/game/planta.png\";\n      personagens[NumSer].objImg.src = \"/static/assetsv5/img/game/planta.png\";\n      personagens[NumSer].direcao = \"parado\";\n      personagens[NumSer].objetivo = \"nada\";\n      personagens[NumSer].tempo = 100;\n    } else if (tipo == \"coco\") {\n      personagens[NumSer].tipo = \"coco\";\n      personagens[NumSer].hierarquia = 0;\n      personagens[NumSer].width = 20;\n      personagens[NumSer].height = 20;\n      personagens[NumSer].velocidade = 0;\n      personagens[NumSer].imge = \"https://image.flaticon.com/icons/svg/1642/1642901.svg\";\n      personagens[NumSer].img = \"https://image.flaticon.com/icons/svg/1642/1642901.svg\";\n      personagens[NumSer].objImg.src = \"/static/assetsv5/img/game/caverinha.png\";\n      personagens[NumSer].direcao = \"parado\";\n      personagens[NumSer].objetivo = \"nada\";\n      personagens[NumSer].tempo = 100;\n    } else if (tipo == \"cenario\") {\n      personagens[NumSer].tipo = \"cenario\";\n      personagens[NumSer].hierarquia = 0;\n      personagens[NumSer].width = 600;\n      personagens[NumSer].height = 600;\n      personagens[NumSer].velocidade = 0;\n      personagens[NumSer].imge = \"/static/assetsv5/img/game/terrenoecossistema.jpg\";\n      personagens[NumSer].img = \"/static/assetsv5/img/game/terrenoecossistema.jpg\";\n      personagens[NumSer].objImg.src = \"/static/assetsv5/img/game/terrenoecossistema.jpg\";\n      personagens[NumSer].direcao = \"parado\";\n      personagens[NumSer].objetivo = \"nada\";\n      personagens[NumSer].tempo = 100;\n    }\n\n    console.log(\"---> personagens[\" + NumSer + \"].tipo = \" + personagens[NumSer].tipo);\n  }\n\n  function comportamento() {\n    //O personagem 0 é o cenário.\n    //O personagem 1 é o avatar.\n    var serA = 2;\n\n    for (serA = 2; serA < personagens.length; serA++) {\n      //for (serA=2; serA < 5; serA++) {\n      personagens[serA].tempo = personagens[serA].tempo - 1;\n\n      if (personagens[serA].tipo == \"carnivoro\" || personagens[serA].tipo == \"herbivoro\") {\n        if (personagens[serA].tempo < 1) {\n          funcPropSer(\"altera\", serA, \"coco\", \"manter\", \"manter\");\n        } else {\n          var serB = 1;\n          var menorDistancia = 1200;\n          var distanciaAtual = 1200;\n          var melhorDecisao = \"parado\";\n          var serMaisPerto = 1;\n\n          for (serB = 2; serB < personagens.length; serB++) {\n            //for (serB=1; serB < 5; serB++) {\n            // console.log('comparando o personagem '+serA+ 'com' +serB+ '.');\n            // console.log('Personagem A ('+serA+') é um '+personagens[serA].tipo+'.');\n            // console.log('Personagem B ('+serB+') é um '+personagens[serB].tipo+'.');\n            if (serA != serB) {\n              if (personagens[serA].tipo == \"carnivoro\") {\n                if (personagens[serB].tipo == \"herbivoro\") {\n                  //Caçar\n                  distanciaAtual = calDistancia(serA, serB);\n\n                  if (menorDistancia > distanciaAtual) {\n                    menorDistancia = distanciaAtual;\n                    melhorDecisao = CalDecisao(serA, serB);\n                    serMaisPerto = serB;\n                    personagens[serA].objetivo = \"caçando\";\n                  }\n                }\n              } else if (personagens[serA].tipo == \"herbivoro\") {\n                if (personagens[serB].tipo == \"planta\") {\n                  //Caçar\n                  distanciaAtual = calDistancia(serA, serB);\n\n                  if (menorDistancia > distanciaAtual) {\n                    menorDistancia = distanciaAtual;\n                    melhorDecisao = CalDecisao(serA, serB);\n                    serMaisPerto = serB;\n                    personagens[serA].objetivo = serA;\n                  }\n                } else if (personagens[serB].tipo == \"carnivoro\") {\n                  //Fugir\n                  distanciaAtual = calDistancia(serA, serB);\n\n                  if (menorDistancia > distanciaAtual) {\n                    menorDistancia = distanciaAtual;\n                    melhorDecisao = CalDecisao(serB, serA);\n                    serMaisPerto = serB;\n                    personagens[serA].objetivo = \"Fugindo de \" + serB;\n                  }\n                }\n              }\n            }\n          } // Fim do FOR B\n          //console.log('Personagem '+serA+' está a disanca de ' + menorDistancia + ' do .' + serMaisPerto);\n          //console.log('A melhor decisão é ir para '+ melhorDecisao +'.');\n\n\n          if (personagens[serA].tipo == \"carnivoro\" && melhorDecisao == \"devorou\") {\n            personagens[serA].tempo = 2000;\n            funcPropSer(\"altera\", serMaisPerto, \"coco\", \"manter\", \"manter\");\n          } else if (personagens[serA].tipo == \"herbivoro\" && personagens[serMaisPerto].tipo == \"planta\" && melhorDecisao == \"devorou\") {\n            personagens[serA].tempo = 2000;\n            funcPropSer(\"altera\", serMaisPerto, \"ovo\", \"manter\", \"manter\");\n          }\n\n          moverPersonagem(serA, melhorDecisao);\n        }\n      } else if (personagens[serA].tipo == \"ovo\" && personagens[serA].tempo < 1) {\n        funcPropSer(\"altera\", serA, \"herbivoro\", \"manter\", \"manter\");\n      } else if (personagens[serA].tipo == \"planta\" && personagens[serA].tempo < 1) {\n        personagens[serA].width = personagens[serA].width + 2, personagens[serA].height = personagens[serA].height + 2, personagens[serA].tempo = 100;\n      } else if (personagens[serA].tipo == \"coco\" && personagens[serA].tempo < 1) {\n        funcPropSer(\"altera\", serA, \"planta\", \"manter\", \"manter\");\n      } // Fim do if\n\n    } // Fim do FOR A\n\n\n    desenharCanvas();\n  }\n\n  function desenharCanvas() {\n    // Desenha os objetos na tela.\n    var CNV = document.getElementById('canvasGame');\n    var CTX = CNV.getContext(\"2d\");\n    var i;\n    var pespectiva = 0;\n    console.log('| inicio do FOR | <══════════════════════════════════════');\n    console.log(personagens);\n\n    for (i = 0; i < personagens.length; i++) {\n      //for (i=0; i < 5; i++) {\n      console.log(\"i=\" + i);\n      console.log(\"tipo = \" + personagens[i].tipo); //pespectiva =  parseInt(personagens[i].y/10); //(y = 0 a 600) Proporção 10 a 60\n      //CTX.drawImage(personagens[i].objImg, personagens[i].x, personagens[i].y, (personagens[i].width+pespectiva),(personagens[i].height+pespectiva));  \n\n      CTX.drawImage(personagens[i].objImg, personagens[i].x, personagens[i].y, personagens[i].width, personagens[i].height);\n      CTX.font = \"30px Arial\";\n      CTX.fillStyle = \"red\"; //personagens[i].cor\n      //CTX.fillText(i+'-'+personagens[i].tipo, personagens[i].x+25,personagens[i].y-10);\n      //CTX.fillText(i);\n      //CTX.fillText(personagens[i].objetivo, personagens[i].x+25, personagens[i].y);\n      //CTX.fillText(personagens[i].direcao, personagens[i].x+25,personagens[i].y+10);\n      //CTX.fillText(personagens[i].tempo, personagens[i].x+25,personagens[i].y+20);\n    }\n\n    console.log('| fim do FOR | <══════════════════════════════════════'); // CNV.addEventListener('mousemove', function(evt) {\n    //   var mousePos = getMousePos(canvas, evt);\n    //   var message = 'Mouse position: ' + mousePos.x + ',' + mousePos.y;\n    //   alert(message);\n    // }, false);\n  }\n\n  function calDistancia(serA, serB) {\n    var varDistancia = 0;\n\n    if (personagens[serA].x == personagens[serB].x && personagens[serA].y == personagens[serB].y) {\n      varDistancia = 0;\n    } else {\n      if (personagens[serA].x > personagens[serB].x) {\n        //\"-1\"\n        varDistancia = personagens[serA].x - personagens[serB].x;\n      } else if (personagens[serA].x < personagens[serB].x) {\n        //\"+1\"\n        varDistancia = personagens[serA].x + personagens[serB].x;\n      }\n\n      if (personagens[serA].y > personagens[serB].y) {\n        //\"-1\"\n        varDistancia = varDistancia + personagens[serA].y - personagens[serB].y;\n      } else if (personagens[serA].y < personagens[serB].y) {\n        //\"+1\" \n        varDistancia = varDistancia + personagens[serA].y + personagens[serB].y;\n      }\n    }\n\n    return varDistancia;\n  }\n\n  function CalDecisao(serA, serB) {\n    var RetonDecisao = \"parado\";\n    var tamanho = personagens[serA].width / 2;\n\n    if (personagens[serA].x + tamanho > personagens[serB].x && personagens[serA].x - tamanho < personagens[serB].x && personagens[serA].y + tamanho > personagens[serB].y && personagens[serA].y - tamanho < personagens[serB].y) {\n      RetonDecisao = \"devorou\";\n    } else {\n      var sorteio = Math.floor(Math.random() * 2 + 1);\n      console.log('sorteio=' + sorteio);\n\n      if (sorteio == 1) {\n        if (personagens[serA].y > personagens[serB].y) {\n          //\"-1\"\n          RetonDecisao = \"subir\";\n        } else if (personagens[serA].y < personagens[serB].y) {\n          //\"+1\" \n          RetonDecisao = \"descer\";\n        }\n      } else {\n        if (personagens[serA].x > personagens[serB].x) {\n          //\"-1\"\n          RetonDecisao = \"<-\";\n        } else if (personagens[serA].x < personagens[serB].x) {\n          //\"+1\"\n          RetonDecisao = \"->\";\n        }\n      }\n    }\n\n    return RetonDecisao; //personagens[i].width\n    //personagens[i].height\n  }\n\n  function moverPersonagem(personaAtual, varDirecao) {\n    if (varDirecao == \"subir\") {\n      personagens[personaAtual].y = personagens[personaAtual].y - personagens[personaAtual].velocidade;\n\n      if (personagens[personaAtual].y < 0) {\n        personagens[personaAtual].y = 600;\n      }\n    } else if (varDirecao == \"descer\") {\n      personagens[personaAtual].y = personagens[personaAtual].y + personagens[personaAtual].velocidade;\n\n      if (personagens[personaAtual].y > 600) {\n        personagens[personaAtual].y = 0;\n      }\n    } else if (varDirecao == \"<-\") {\n      personagens[personaAtual].x = personagens[personaAtual].x - personagens[personaAtual].velocidade;\n      personagens[personaAtual].objImg.src = personagens[personaAtual].imge;\n\n      if (personagens[personaAtual].x < 0) {\n        personagens[personaAtual].x = 599;\n      }\n    } else if (varDirecao == \"->\") {\n      personagens[personaAtual].x = personagens[personaAtual].x + personagens[personaAtual].velocidade;\n      personagens[personaAtual].objImg.src = personagens[personaAtual].img;\n\n      if (personagens[personaAtual].x > 600) {\n        personagens[personaAtual].x = 0;\n      }\n    }\n\n    personagens[personaAtual].direcao = varDirecao;\n  }\n\n  function iniciarPersonagens() {\n    console.log(\"!!!!! iniciarPersonagens()\");\n    var i = 0;\n    funcPropSer(\"novo\", i++, \"cenario\", 0, 0);\n    funcPropSer(\"novo\", i++, \"avatar\", funcLocalInit(), funcLocalInit());\n    funcPropSer(\"novo\", i++, \"carnivoro\", funcLocalInit(), funcLocalInit());\n    funcPropSer(\"novo\", i++, \"herbivoro\", funcLocalInit(), funcLocalInit());\n    funcPropSer(\"novo\", i++, \"herbivoro\", funcLocalInit(), funcLocalInit());\n    funcPropSer(\"novo\", i++, \"ovo\", funcLocalInit(), funcLocalInit());\n    funcPropSer(\"novo\", i++, \"ovo\", funcLocalInit(), funcLocalInit());\n    funcPropSer(\"novo\", i++, \"planta\", funcLocalInit(), funcLocalInit());\n    funcPropSer(\"novo\", i++, \"planta\", funcLocalInit(), funcLocalInit());\n    funcPropSer(\"novo\", i++, \"planta\", funcLocalInit(), funcLocalInit());\n    funcPropSer(\"novo\", i++, \"coco\", funcLocalInit(), funcLocalInit());\n    funcPropSer(\"novo\", i++, \"herbivoro\", funcLocalInit(), funcLocalInit());\n    funcPropSer(\"novo\", i++, \"planta\", funcLocalInit(), funcLocalInit());\n    funcPropSer(\"novo\", i++, \"planta\", funcLocalInit(), funcLocalInit());\n    funcPropSer(\"novo\", i++, \"planta\", funcLocalInit(), funcLocalInit());\n    funcPropSer(\"novo\", i++, \"planta\", funcLocalInit(), funcLocalInit());\n    funcPropSer(\"novo\", i++, \"planta\", funcLocalInit(), funcLocalInit());\n    funcPropSer(\"novo\", i++, \"planta\", funcLocalInit(), funcLocalInit());\n    funcPropSer(\"novo\", i++, \"planta\", funcLocalInit(), funcLocalInit());\n    funcPropSer(\"novo\", i++, \"planta\", funcLocalInit(), funcLocalInit());\n    funcPropSer(\"novo\", i++, \"planta\", funcLocalInit(), funcLocalInit());\n  }\n\n  function iniciarGame() {\n    iniciarPersonagens();\n    window.addEventListener(\"keydown\", function (event) {\n      console.log('| Digitou algo | <══════════════════════════════════════');\n      var varKeyCode = event.keyCode;\n      var varKey = event.key;\n\n      if (varKeyCode !== undefined) {\n        console.log(\"varKeyCode !== undefined\");\n        console.log(\"varKeyCode=\" + varKeyCode);\n        console.log(\"varKey=\" + varKey);\n        var evento = \"parar\";\n\n        if (varKeyCode == \"38\" || varKeyCode == 38 || varKey == \"ArrowUp\") {\n          evento = \"subir\";\n        } else if (varKeyCode == \"40\" || varKeyCode == 40 || varKey == \"ArrowUp\") {\n          evento = \"descer\";\n        } else if (varKeyCode == \"37\" || varKeyCode == 47 || varKey == \"ArrowLeft\") {\n          evento = \"<-\";\n        } else if (varKeyCode == \"39\" || varKeyCode == 39 || varKey == \"ArrowRight\") {\n          evento = \"->\";\n        }\n\n        console.log('evento = ' + evento);\n        ultimaTecla = evento;\n        moverPersonagem(1, evento);\n      } else {\n        console.log(\"varKeyCode == undefined\");\n        alert(\"varKeyCode == undefined\");\n      }\n    }, true);\n    desenharCanvas();\n    relogio = setInterval(comportamento, 100);\n  }\n\n  function funcLocalInit() {\n    return Math.floor(Math.random() * 500 + 1);\n  }\n\n  return React.createElement(Div, {\n    display: \"responsivo\"\n  }, React.createElement(\"div\", {\n    className: \"jsx-58492827\"\n  }, React.createElement(\"a\", {\n    id: \"btLinkIniciar\",\n    onClick: function onClick() {\n      iniciarGame();\n    },\n    className: \"jsx-58492827\" + \" \" + \"btCinza\"\n  }, \"Iniciar Game\"), React.createElement(\"canvas\", {\n    id: \"canvasGame\",\n    width: \"600\",\n    height: \"600\",\n    className: \"jsx-58492827\"\n  })), React.createElement(\"div\", {\n    className: \"jsx-58492827\" + \" \" + \"Controles\"\n  }, React.createElement(\"h3\", {\n    className: \"jsx-58492827\"\n  }, \"Controle do personagem AVATAR.\"), React.createElement(Div, {\n    display: \"vertical\"\n  }, React.createElement(\"a\", {\n    id: \"btLinkIniciar\",\n    onClick: function onClick() {\n      moverPersonagem(1, \"subir\");\n    },\n    className: \"jsx-58492827\" + \" \" + \"btCinza\"\n  }, \"sobe\"), React.createElement(Div, {\n    display: \"justificado\"\n  }, React.createElement(\"a\", {\n    id: \"btLinkIniciar\",\n    onClick: function onClick() {\n      moverPersonagem(1, \"<-\");\n    },\n    className: \"jsx-58492827\" + \" \" + \"btCinza\"\n  }, \"esquerda\"), React.createElement(\"a\", {\n    id: \"btLinkIniciar\",\n    onClick: function onClick() {\n      moverPersonagem(1, \"->\");\n    },\n    className: \"jsx-58492827\" + \" \" + \"btCinza\"\n  }, \"direita\")), React.createElement(\"a\", {\n    id: \"btLinkIniciar\",\n    onClick: function onClick() {\n      moverPersonagem(1, \"descer\");\n    },\n    className: \"jsx-58492827\" + \" \" + \"btCinza\"\n  }, \"desce\"))), React.createElement(_JSXStyle, {\n    id: \"58492827\"\n  }, \".Controles.jsx-58492827{margin:10px;width:100%;}.Godzilla.jsx-58492827{position:absolute;}canvas.jsx-58492827{border :solid 1px;}.btCinza.jsx-58492827{padding:10px;-webkit-transition:all 0.8s;transition:all 0.8s;font-family:oiTextRegular,sans-serif;background-color:#26293c;border-radius:15px;color:#ffffff;display:block;font-size:1rem;text-align:center;-webkit-text-decoration:none;text-decoration:none;border:solid 2px #4a516b;cursor:pointer;outline:0;margin-bottom :10px;box-sizing:border-box;font-style:normal;width:100%;max-width:600px;}.btCinza.jsx-58492827:hover{-webkit-transition:all 0.8s;transition:all 0.8s;-webkit-transition:all 0.8s;-moz-transition:all 0.8s;-o-transition:all 0.8s;background-color:#4a516b;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL29pNDAyODI1L0RvY3VtZW50b3MvUHJvamV0b3Mvc2l0ZV9kb192YWxlbnRlL2NvbXBvbmVudHMvb3JnYW5pc21zL29yZ0Vjb3NzaXN0ZW1hL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQStZa0IsQUFHdUIsQUFJTSxBQUdBLEFBR0gsQUFvQk8sWUE3QlgsQ0FVVyxLQU54QixBQUdBLEtBTkEseUJBNkJnQyxhQW5CVSxlQW9CYixzQkFuQkEsR0FvQkYsc0JBbkJKLENBcUJNLGtCQXBCWCxPQXFCaEIsT0FwQmdCLGNBQ0MsZUFDRyxrQkFDRyxrREFDSSx5QkFDVixlQUNMLFVBQ1Usb0JBQ0Usc0JBQ0osa0JBQ1AsV0FDSyxnQkFDbEIiLCJmaWxlIjoiL2hvbWUvb2k0MDI4MjUvRG9jdW1lbnRvcy9Qcm9qZXRvcy9zaXRlX2RvX3ZhbGVudGUvY29tcG9uZW50cy9vcmdhbmlzbXMvb3JnRWNvc3Npc3RlbWEvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgRGl2IGZyb20gJy4uLy4uL2F0b21zL2F0RGl2L2luZGV4LmpzJztcblxuXG5jb25zdCBvcmdFY29zc2lzdGVtYSA9IGZ1bmN0aW9uIChwcm9wcykge1xuXG4gIHZhciByZWxvZ2lvO1xuICB2YXIgcGVyc29uYWdlbnMgPSBbXTtcbiAgdmFyIHVsdGltYVRlY2xhID0gXCJwYXJhclwiO1xuXG4gIGZ1bmN0aW9uIGZ1bmNQcm9wU2VyKHZhck5vdm8sTnVtU2VyLCB0aXBvLCB2YXJQb3NpdFgsIHZhclBvc2l0WSl7XG4gICAgY29uc29sZS5sb2coXCItLS0+ZnVuY1Byb3BTZXIoXCIrdmFyTm92bytcIixcIitOdW1TZXIrXCIsXCIrIHRpcG8rXCIsXCIrIHZhclBvc2l0WCtcIixcIisgdmFyUG9zaXRZICtcIilcIilcbiAgICBpZih2YXJOb3ZvPT1cIm5vdm9cIil7XG4gICAgICBjb25zb2xlLmxvZyhcIkNyaWFuZG8gTk9WTyBwZXJzb25hZ2VucyBbXCIrIE51bVNlciArXCJdXCIpO1xuICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXSA9IHtcbiAgICAgICAgXCJ0aXBvXCI6dGlwbyxcbiAgICAgICAgXCJ3aWR0aFwiOiAyMCxcbiAgICAgICAgXCJoZWlnaHRcIjogMjAsXG4gICAgICAgIFwiZGlyZWNhb1wiOlwicGFyYWRvXCIsXG4gICAgICAgIFwib2JqZXRpdm9cIjpcIm5hZGFcIlxuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coXCItLS0+IHBlcnNvbmFnZW5zW1wiKyBOdW1TZXIgK1wiXSA9IFwiICsgcGVyc29uYWdlbnNbTnVtU2VyXSk7XG4gICAgICBjb25zb2xlLmxvZyhcIi0tLT4gcGVyc29uYWdlbnNbXCIrIE51bVNlciArXCJdLnRpcG8gPSBcIiArIHBlcnNvbmFnZW5zW051bVNlcl0udGlwbyk7XG4gICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLm9iakltZyA9IG5ldyBJbWFnZSgpO1xuICAgIH1cbiAgICAvL2Vsc2UgaWYgKD09XCJhbHRlcmFcIil7IH1cbiAgICBpZih2YXJQb3NpdFghPVwibWFudGVyXCIpe1xuICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXS54PXZhclBvc2l0WDtcbiAgICB9XG4gICAgaWYodmFyUG9zaXRZIT1cIm1hbnRlclwiKXtcbiAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0ueT12YXJQb3NpdFk7XG4gICAgfVxuICAgIGlmKHRpcG89PVwiYXZhdGFyXCIpe1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLnRpcG89XCJhdmF0YXJcIjtcbiAgICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXS5oaWVyYXJxdWlhPTQ7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0ud2lkdGg9MjA7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0uaGVpZ2h0PTIwO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLnZlbG9jaWRhZGU9MztcbiAgICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXS5pbWdlPVwiaHR0cHM6Ly9pbWFnZXMudmV4ZWxzLmNvbS9tZWRpYS91c2Vycy8zLzE3NzgyNy9pc29sYXRlZC9wcmV2aWV3LzAzY2JiNGZiMGQwMzE4YmVmYWRmMTIxMzE0ZTM1ZDQwLWNhYmVsby1kZS1tb25zdHJvLW1vbnN0cm8tbGlzby1ieS12ZXhlbHMucG5nXCI7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0uaW1nPVwiaHR0cHM6Ly9pbWFnZXMudmV4ZWxzLmNvbS9tZWRpYS91c2Vycy8zLzE3NzgyNy9pc29sYXRlZC9wcmV2aWV3LzAzY2JiNGZiMGQwMzE4YmVmYWRmMTIxMzE0ZTM1ZDQwLWNhYmVsby1kZS1tb25zdHJvLW1vbnN0cm8tbGlzby1ieS12ZXhlbHMucG5nXCI7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0ub2JqSW1nLnNyYyA9XCJodHRwczovL2ltYWdlcy52ZXhlbHMuY29tL21lZGlhL3VzZXJzLzMvMTc3ODI3L2lzb2xhdGVkL3ByZXZpZXcvMDNjYmI0ZmIwZDAzMThiZWZhZGYxMjEzMTRlMzVkNDAtY2FiZWxvLWRlLW1vbnN0cm8tbW9uc3Ryby1saXNvLWJ5LXZleGVscy5wbmdcIjtcbiAgICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXS5kaXJlY2FvPVwicGFyYWRvXCI7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0ub2JqZXRpdm89XCJuYWRhXCI7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0udGVtcG89MTAwO1xuICAgIH1lbHNlIGlmKHRpcG89PVwiY2Fybml2b3JvXCIpe1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLnRpcG89XCJjYXJuaXZvcm9cIjtcbiAgICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXS5oaWVyYXJxdWlhPTQ7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0ud2lkdGg9NDA7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0uaGVpZ2h0PTQwO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLmltZ2U9XCIvc3RhdGljL2Fzc2V0c3Y1L2ltZy9nYW1lL21pbml0cmV4ZS5wbmdcIjtcbiAgICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXS5pbWc9XCIvc3RhdGljL2Fzc2V0c3Y1L2ltZy9nYW1lL21pbml0cmV4LnBuZ1wiO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLnZlbG9jaWRhZGU9NDtcbiAgICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXS5vYmpJbWcuc3JjID1cIi9zdGF0aWMvYXNzZXRzdjUvaW1nL2dhbWUvbWluaXRyZXgucG5nXCI7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0uZGlyZWNhbz1cInBhcmFkb1wiO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLm9iamV0aXZvPVwibmFkYVwiO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLnRlbXBvPTIwMDA7XG4gICAgfWVsc2UgaWYodGlwbz09XCJoZXJiaXZvcm9cIil7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0udGlwbz1cImhlcmJpdm9yb1wiO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLmhpZXJhcnF1aWE9MztcbiAgICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXS53aWR0aD00MDtcbiAgICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXS5oZWlnaHQ9MjA7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0udmVsb2NpZGFkZT0yO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLmltZ2U9XCIvc3RhdGljL2Fzc2V0c3Y1L2ltZy9nYW1lL2hlcmJpdm9yb2UucG5nXCI7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0uaW1nPVwiL3N0YXRpYy9hc3NldHN2NS9pbWcvZ2FtZS9oZXJiaXZvcm8ucG5nXCI7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0ub2JqSW1nLnNyYyA9XCIvc3RhdGljL2Fzc2V0c3Y1L2ltZy9nYW1lL2hlcmJpdm9yby5wbmdcIjtcbiAgICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXS5kaXJlY2FvPVwicGFyYWRvXCI7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0ub2JqZXRpdm89XCJuYWRhXCI7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0udGVtcG89MTAwMDtcbiAgICB9ZWxzZSBpZih0aXBvPT1cIm92b1wiKXtcbiAgICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXS50aXBvPVwib3ZvXCI7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0uaGllcmFycXVpYT0yO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLndpZHRoPTEwO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLmhlaWdodD0xMDtcbiAgICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXS52ZWxvY2lkYWRlPTA7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0uaW1nZT1cIi9zdGF0aWMvYXNzZXRzdjUvaW1nL2dhbWUvb3ZvLnBuZ1wiO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLmltZz1cIi9zdGF0aWMvYXNzZXRzdjUvaW1nL2dhbWUvb3ZvLnBuZ1wiO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLm9iakltZy5zcmMgPVwiL3N0YXRpYy9hc3NldHN2NS9pbWcvZ2FtZS9vdm8ucG5nXCI7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0uZGlyZWNhbz1cInBhcmFkb1wiO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLm9iamV0aXZvPVwibmFkYVwiO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLnRlbXBvPTEwMDtcbiAgICB9ZWxzZSBpZih0aXBvPT1cInBsYW50YVwiKXtcbiAgICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXS50aXBvPVwicGxhbnRhXCI7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0uaGllcmFycXVpYT0xO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLndpZHRoPTE1O1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLmhlaWdodD0xNTtcbiAgICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXS52ZWxvY2lkYWRlPTA7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0uaW1nZT1cIi9zdGF0aWMvYXNzZXRzdjUvaW1nL2dhbWUvcGxhbnRhLnBuZ1wiO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLmltZz1cIi9zdGF0aWMvYXNzZXRzdjUvaW1nL2dhbWUvcGxhbnRhLnBuZ1wiO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLm9iakltZy5zcmMgPVwiL3N0YXRpYy9hc3NldHN2NS9pbWcvZ2FtZS9wbGFudGEucG5nXCI7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0uZGlyZWNhbz1cInBhcmFkb1wiO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLm9iamV0aXZvPVwibmFkYVwiO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLnRlbXBvPTEwMDtcbiAgICB9ZWxzZSBpZih0aXBvPT1cImNvY29cIil7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0udGlwbz1cImNvY29cIjtcbiAgICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXS5oaWVyYXJxdWlhPTA7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0ud2lkdGg9MjA7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0uaGVpZ2h0PTIwO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLnZlbG9jaWRhZGU9MDtcbiAgICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXS5pbWdlPVwiaHR0cHM6Ly9pbWFnZS5mbGF0aWNvbi5jb20vaWNvbnMvc3ZnLzE2NDIvMTY0MjkwMS5zdmdcIjtcbiAgICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXS5pbWc9XCJodHRwczovL2ltYWdlLmZsYXRpY29uLmNvbS9pY29ucy9zdmcvMTY0Mi8xNjQyOTAxLnN2Z1wiO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLm9iakltZy5zcmM9XCIvc3RhdGljL2Fzc2V0c3Y1L2ltZy9nYW1lL2NhdmVyaW5oYS5wbmdcIjtcbiAgICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXS5kaXJlY2FvPVwicGFyYWRvXCI7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0ub2JqZXRpdm89XCJuYWRhXCI7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0udGVtcG89MTAwO1xuICAgIH1lbHNlIGlmKHRpcG89PVwiY2VuYXJpb1wiKXtcbiAgICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXS50aXBvPVwiY2VuYXJpb1wiO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLmhpZXJhcnF1aWE9MDtcbiAgICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXS53aWR0aD02MDA7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0uaGVpZ2h0PTYwMDtcbiAgICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXS52ZWxvY2lkYWRlPTA7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0uaW1nZT1cIi9zdGF0aWMvYXNzZXRzdjUvaW1nL2dhbWUvdGVycmVub2Vjb3NzaXN0ZW1hLmpwZ1wiO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLmltZz1cIi9zdGF0aWMvYXNzZXRzdjUvaW1nL2dhbWUvdGVycmVub2Vjb3NzaXN0ZW1hLmpwZ1wiO1xuICAgICAgICBwZXJzb25hZ2Vuc1tOdW1TZXJdLm9iakltZy5zcmM9XCIvc3RhdGljL2Fzc2V0c3Y1L2ltZy9nYW1lL3RlcnJlbm9lY29zc2lzdGVtYS5qcGdcIjtcbiAgICAgICAgcGVyc29uYWdlbnNbTnVtU2VyXS5kaXJlY2FvPVwicGFyYWRvXCI7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0ub2JqZXRpdm89XCJuYWRhXCI7XG4gICAgICAgIHBlcnNvbmFnZW5zW051bVNlcl0udGVtcG89MTAwO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcIi0tLT4gcGVyc29uYWdlbnNbXCIrIE51bVNlciArXCJdLnRpcG8gPSBcIiArIHBlcnNvbmFnZW5zW051bVNlcl0udGlwbyk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGNvbXBvcnRhbWVudG8oKXtcbiAgICAvL08gcGVyc29uYWdlbSAwIMOpIG8gY2Vuw6FyaW8uXG4gICAgLy9PIHBlcnNvbmFnZW0gMSDDqSBvIGF2YXRhci5cbiAgICB2YXIgc2VyQSA9IDJcbiAgICBmb3IgKHNlckE9Mjsgc2VyQSA8IHBlcnNvbmFnZW5zLmxlbmd0aDsgc2VyQSsrKSB7XG4gICAgLy9mb3IgKHNlckE9Mjsgc2VyQSA8IDU7IHNlckErKykge1xuICAgICAgcGVyc29uYWdlbnNbc2VyQV0udGVtcG89cGVyc29uYWdlbnNbc2VyQV0udGVtcG8tMTtcbiAgICAgIGlmKHBlcnNvbmFnZW5zW3NlckFdLnRpcG89PVwiY2Fybml2b3JvXCJ8fHBlcnNvbmFnZW5zW3NlckFdLnRpcG89PVwiaGVyYml2b3JvXCIpe1xuICAgICAgICBpZihwZXJzb25hZ2Vuc1tzZXJBXS50ZW1wbzwxKXtcbiAgICAgICAgICBmdW5jUHJvcFNlcihcImFsdGVyYVwiLHNlckEsIFwiY29jb1wiLCBcIm1hbnRlclwiLCBcIm1hbnRlclwiKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgdmFyIHNlckIgPSAxXG4gICAgICAgICAgdmFyIG1lbm9yRGlzdGFuY2lhID0gMTIwMDtcbiAgICAgICAgICB2YXIgZGlzdGFuY2lhQXR1YWwgPSAxMjAwO1xuICAgICAgICAgIHZhciBtZWxob3JEZWNpc2FvPVwicGFyYWRvXCI7XG4gICAgICAgICAgdmFyIHNlck1haXNQZXJ0bz0xO1xuICAgICAgICAgIGZvciAoc2VyQj0yOyBzZXJCIDwgcGVyc29uYWdlbnMubGVuZ3RoOyBzZXJCKyspIHtcbiAgICAgICAgICAvL2ZvciAoc2VyQj0xOyBzZXJCIDwgNTsgc2VyQisrKSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY29tcGFyYW5kbyBvIHBlcnNvbmFnZW0gJytzZXJBKyAnY29tJyArc2VyQisgJy4nKTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdQZXJzb25hZ2VtIEEgKCcrc2VyQSsnKSDDqSB1bSAnK3BlcnNvbmFnZW5zW3NlckFdLnRpcG8rJy4nKTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdQZXJzb25hZ2VtIEIgKCcrc2VyQisnKSDDqSB1bSAnK3BlcnNvbmFnZW5zW3NlckJdLnRpcG8rJy4nKTtcbiAgICAgICAgICAgIGlmKHNlckEhPXNlckIpe1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmKHBlcnNvbmFnZW5zW3NlckFdLnRpcG89PVwiY2Fybml2b3JvXCIpe1xuICAgICAgICAgICAgICAgICAgICBpZihwZXJzb25hZ2Vuc1tzZXJCXS50aXBvPT1cImhlcmJpdm9yb1wiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vQ2HDp2FyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXN0YW5jaWFBdHVhbCA9IGNhbERpc3RhbmNpYShzZXJBLHNlckIpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihtZW5vckRpc3RhbmNpYT5kaXN0YW5jaWFBdHVhbCl7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbm9yRGlzdGFuY2lhPWRpc3RhbmNpYUF0dWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbGhvckRlY2lzYW89Q2FsRGVjaXNhbyhzZXJBLHNlckIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlck1haXNQZXJ0bz1zZXJCO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcnNvbmFnZW5zW3NlckFdLm9iamV0aXZvPVwiY2HDp2FuZG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKHBlcnNvbmFnZW5zW3NlckFdLnRpcG89PVwiaGVyYml2b3JvXCIpe1xuICAgICAgICAgICAgICAgICAgICBpZihwZXJzb25hZ2Vuc1tzZXJCXS50aXBvPT1cInBsYW50YVwiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vQ2HDp2FyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXN0YW5jaWFBdHVhbCA9IGNhbERpc3RhbmNpYShzZXJBLHNlckIpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihtZW5vckRpc3RhbmNpYT5kaXN0YW5jaWFBdHVhbCl7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbm9yRGlzdGFuY2lhPWRpc3RhbmNpYUF0dWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbGhvckRlY2lzYW89Q2FsRGVjaXNhbyhzZXJBLHNlckIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlck1haXNQZXJ0bz1zZXJCO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcnNvbmFnZW5zW3NlckFdLm9iamV0aXZvPXNlckFcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYocGVyc29uYWdlbnNbc2VyQl0udGlwbz09XCJjYXJuaXZvcm9cIil7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL0Z1Z2lyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXN0YW5jaWFBdHVhbCA9IGNhbERpc3RhbmNpYShzZXJBLHNlckIpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihtZW5vckRpc3RhbmNpYT5kaXN0YW5jaWFBdHVhbCl7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbm9yRGlzdGFuY2lhPWRpc3RhbmNpYUF0dWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbGhvckRlY2lzYW89Q2FsRGVjaXNhbyhzZXJCLHNlckEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlck1haXNQZXJ0bz1zZXJCO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcnNvbmFnZW5zW3NlckFdLm9iamV0aXZvPVwiRnVnaW5kbyBkZSBcIiArIHNlckJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IC8vIEZpbSBkbyBGT1IgQlxuICAgICAgICAgIC8vY29uc29sZS5sb2coJ1BlcnNvbmFnZW0gJytzZXJBKycgZXN0w6EgYSBkaXNhbmNhIGRlICcgKyBtZW5vckRpc3RhbmNpYSArICcgZG8gLicgKyBzZXJNYWlzUGVydG8pO1xuICAgICAgICAgIC8vY29uc29sZS5sb2coJ0EgbWVsaG9yIGRlY2lzw6NvIMOpIGlyIHBhcmEgJysgbWVsaG9yRGVjaXNhbyArJy4nKTtcbiAgICAgICAgICBpZihwZXJzb25hZ2Vuc1tzZXJBXS50aXBvPT1cImNhcm5pdm9yb1wiICYmIG1lbGhvckRlY2lzYW89PVwiZGV2b3JvdVwiKXtcbiAgICAgICAgICAgICAgcGVyc29uYWdlbnNbc2VyQV0udGVtcG8gPSAyMDAwO1xuICAgICAgICAgICAgICBmdW5jUHJvcFNlcihcImFsdGVyYVwiLHNlck1haXNQZXJ0bywgXCJjb2NvXCIsIFwibWFudGVyXCIsIFwibWFudGVyXCIpO1xuICAgICAgICAgIH1lbHNlIGlmKHBlcnNvbmFnZW5zW3NlckFdLnRpcG89PVwiaGVyYml2b3JvXCIgJiYgcGVyc29uYWdlbnNbc2VyTWFpc1BlcnRvXS50aXBvPT1cInBsYW50YVwiICYmIG1lbGhvckRlY2lzYW89PVwiZGV2b3JvdVwiKXtcbiAgICAgICAgICAgIHBlcnNvbmFnZW5zW3NlckFdLnRlbXBvID0gMjAwMDtcbiAgICAgICAgICAgIGZ1bmNQcm9wU2VyKFwiYWx0ZXJhXCIsc2VyTWFpc1BlcnRvLCBcIm92b1wiLCBcIm1hbnRlclwiLCBcIm1hbnRlclwiKTtcbiAgICAgICAgICB9IFxuICAgICAgICAgIG1vdmVyUGVyc29uYWdlbShzZXJBLCBtZWxob3JEZWNpc2FvKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmKHBlcnNvbmFnZW5zW3NlckFdLnRpcG89PVwib3ZvXCImJnBlcnNvbmFnZW5zW3NlckFdLnRlbXBvPDEpe1xuICAgICAgICBmdW5jUHJvcFNlcihcImFsdGVyYVwiLHNlckEsIFwiaGVyYml2b3JvXCIsIFwibWFudGVyXCIsIFwibWFudGVyXCIpO1xuICAgICAgfWVsc2UgaWYocGVyc29uYWdlbnNbc2VyQV0udGlwbz09XCJwbGFudGFcIiYmcGVyc29uYWdlbnNbc2VyQV0udGVtcG88MSl7XG4gICAgICAgIHBlcnNvbmFnZW5zW3NlckFdLndpZHRoID0gcGVyc29uYWdlbnNbc2VyQV0ud2lkdGgrMixcbiAgICAgICAgcGVyc29uYWdlbnNbc2VyQV0uaGVpZ2h0ID0gcGVyc29uYWdlbnNbc2VyQV0uaGVpZ2h0KzIsXG4gICAgICAgIHBlcnNvbmFnZW5zW3NlckFdLnRlbXBvID0gMTAwO1xuICAgICAgfWVsc2UgaWYocGVyc29uYWdlbnNbc2VyQV0udGlwbz09XCJjb2NvXCImJnBlcnNvbmFnZW5zW3NlckFdLnRlbXBvPDEpe1xuICAgICAgICBmdW5jUHJvcFNlcihcImFsdGVyYVwiLHNlckEsIFwicGxhbnRhXCIsIFwibWFudGVyXCIsIFwibWFudGVyXCIpO1xuICAgICAgfS8vIEZpbSBkbyBpZlxuICAgIH0gLy8gRmltIGRvIEZPUiBBXG4gICAgZGVzZW5oYXJDYW52YXMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc2VuaGFyQ2FudmFzKCl7XG4gICAgLy8gRGVzZW5oYSBvcyBvYmpldG9zIG5hIHRlbGEuXG4gICAgdmFyIENOViA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXNHYW1lJylcbiAgICB2YXIgQ1RYID0gQ05WLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICB2YXIgaTtcbiAgICB2YXIgcGVzcGVjdGl2YSA9IDA7XG4gICAgY29uc29sZS5sb2coJ3wgaW5pY2lvIGRvIEZPUiB8IDzilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAnKTtcbiAgICBjb25zb2xlLmxvZyhwZXJzb25hZ2Vucyk7XG4gICAgZm9yIChpPTA7IGkgPCBwZXJzb25hZ2Vucy5sZW5ndGg7IGkrKykge1xuICAgIC8vZm9yIChpPTA7IGkgPCA1OyBpKyspIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiaT1cIitpKTtcbiAgICAgIGNvbnNvbGUubG9nKFwidGlwbyA9IFwiK3BlcnNvbmFnZW5zW2ldLnRpcG8pO1xuICAgICAgLy9wZXNwZWN0aXZhID0gIHBhcnNlSW50KHBlcnNvbmFnZW5zW2ldLnkvMTApOyAvLyh5ID0gMCBhIDYwMCkgUHJvcG9yw6fDo28gMTAgYSA2MFxuICAgICAgLy9DVFguZHJhd0ltYWdlKHBlcnNvbmFnZW5zW2ldLm9iakltZywgcGVyc29uYWdlbnNbaV0ueCwgcGVyc29uYWdlbnNbaV0ueSwgKHBlcnNvbmFnZW5zW2ldLndpZHRoK3Blc3BlY3RpdmEpLChwZXJzb25hZ2Vuc1tpXS5oZWlnaHQrcGVzcGVjdGl2YSkpOyAgXG4gICAgICBDVFguZHJhd0ltYWdlKHBlcnNvbmFnZW5zW2ldLm9iakltZywgcGVyc29uYWdlbnNbaV0ueCwgcGVyc29uYWdlbnNbaV0ueSwgcGVyc29uYWdlbnNbaV0ud2lkdGgsIHBlcnNvbmFnZW5zW2ldLmhlaWdodCk7XG4gICAgICBDVFguZm9udCA9IFwiMzBweCBBcmlhbFwiO1xuICAgICAgQ1RYLmZpbGxTdHlsZSA9IFwicmVkXCI7IC8vcGVyc29uYWdlbnNbaV0uY29yXG4gICAgICAvL0NUWC5maWxsVGV4dChpKyctJytwZXJzb25hZ2Vuc1tpXS50aXBvLCBwZXJzb25hZ2Vuc1tpXS54KzI1LHBlcnNvbmFnZW5zW2ldLnktMTApO1xuICAgICAgLy9DVFguZmlsbFRleHQoaSk7XG4gICAgICAvL0NUWC5maWxsVGV4dChwZXJzb25hZ2Vuc1tpXS5vYmpldGl2bywgcGVyc29uYWdlbnNbaV0ueCsyNSwgcGVyc29uYWdlbnNbaV0ueSk7XG4gICAgICAvL0NUWC5maWxsVGV4dChwZXJzb25hZ2Vuc1tpXS5kaXJlY2FvLCBwZXJzb25hZ2Vuc1tpXS54KzI1LHBlcnNvbmFnZW5zW2ldLnkrMTApO1xuICAgICAgLy9DVFguZmlsbFRleHQocGVyc29uYWdlbnNbaV0udGVtcG8sIHBlcnNvbmFnZW5zW2ldLngrMjUscGVyc29uYWdlbnNbaV0ueSsyMCk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCd8IGZpbSBkbyBGT1IgfCA84pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQJyk7XG5cbiAgICAvLyBDTlYuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgLy8gICB2YXIgbW91c2VQb3MgPSBnZXRNb3VzZVBvcyhjYW52YXMsIGV2dCk7XG4gICAgLy8gICB2YXIgbWVzc2FnZSA9ICdNb3VzZSBwb3NpdGlvbjogJyArIG1vdXNlUG9zLnggKyAnLCcgKyBtb3VzZVBvcy55O1xuICAgIC8vICAgYWxlcnQobWVzc2FnZSk7XG4gICAgLy8gfSwgZmFsc2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FsRGlzdGFuY2lhKHNlckEsc2VyQil7XG4gICAgdmFyIHZhckRpc3RhbmNpYSA9IDA7XG4gICAgaWYocGVyc29uYWdlbnNbc2VyQV0ueD09cGVyc29uYWdlbnNbc2VyQl0ueCYmcGVyc29uYWdlbnNbc2VyQV0ueT09cGVyc29uYWdlbnNbc2VyQl0ueSl7XG4gICAgICB2YXJEaXN0YW5jaWEgPSAwO1xuICAgIH1lbHNle1xuICAgICAgXG4gICAgICBpZihwZXJzb25hZ2Vuc1tzZXJBXS54PnBlcnNvbmFnZW5zW3NlckJdLngpe1xuICAgICAgICAvL1wiLTFcIlxuICAgICAgICB2YXJEaXN0YW5jaWEgPSBwZXJzb25hZ2Vuc1tzZXJBXS54LXBlcnNvbmFnZW5zW3NlckJdLnhcbiAgICAgIH1lbHNlIGlmIChwZXJzb25hZ2Vuc1tzZXJBXS54PHBlcnNvbmFnZW5zW3NlckJdLngpe1xuICAgICAgICAvL1wiKzFcIlxuICAgICAgICB2YXJEaXN0YW5jaWEgPSBwZXJzb25hZ2Vuc1tzZXJBXS54K3BlcnNvbmFnZW5zW3NlckJdLnhcbiAgICAgIH1cbiAgICAgIGlmKHBlcnNvbmFnZW5zW3NlckFdLnk+cGVyc29uYWdlbnNbc2VyQl0ueSl7XG4gICAgICAgIC8vXCItMVwiXG4gICAgICAgIHZhckRpc3RhbmNpYSA9IHZhckRpc3RhbmNpYSArIHBlcnNvbmFnZW5zW3NlckFdLnktcGVyc29uYWdlbnNbc2VyQl0ueVxuICAgICAgfWVsc2UgaWYgKHBlcnNvbmFnZW5zW3NlckFdLnk8cGVyc29uYWdlbnNbc2VyQl0ueSl7XG4gICAgICAgIC8vXCIrMVwiIFxuICAgICAgICB2YXJEaXN0YW5jaWEgPSB2YXJEaXN0YW5jaWEgKyBwZXJzb25hZ2Vuc1tzZXJBXS55K3BlcnNvbmFnZW5zW3NlckJdLnlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhckRpc3RhbmNpYVxuICB9XG5cbiAgZnVuY3Rpb24gQ2FsRGVjaXNhbyhzZXJBLHNlckIpe1xuICAgIHZhciBSZXRvbkRlY2lzYW8gPSBcInBhcmFkb1wiXG4gICAgdmFyIHRhbWFuaG8gPSBwZXJzb25hZ2Vuc1tzZXJBXS53aWR0aCAvIDJcbiAgICBpZigocGVyc29uYWdlbnNbc2VyQV0ueCt0YW1hbmhvPnBlcnNvbmFnZW5zW3NlckJdLngmJnBlcnNvbmFnZW5zW3NlckFdLngtdGFtYW5obzxwZXJzb25hZ2Vuc1tzZXJCXS54KSYmKHBlcnNvbmFnZW5zW3NlckFdLnkrdGFtYW5obz5wZXJzb25hZ2Vuc1tzZXJCXS55JiZwZXJzb25hZ2Vuc1tzZXJBXS55LXRhbWFuaG88cGVyc29uYWdlbnNbc2VyQl0ueSkpe1xuICAgICAgUmV0b25EZWNpc2FvID0gXCJkZXZvcm91XCI7ICBcbiAgICB9ZWxzZXtcbiAgICAgIHZhciBzb3J0ZWlvID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDIpICsgMSk7XG4gICAgICBjb25zb2xlLmxvZygnc29ydGVpbz0nK3NvcnRlaW8pO1xuICAgICAgaWYoc29ydGVpbz09MSl7XG4gICAgICAgIGlmKHBlcnNvbmFnZW5zW3NlckFdLnk+cGVyc29uYWdlbnNbc2VyQl0ueSl7XG4gICAgICAgICAgLy9cIi0xXCJcbiAgICAgICAgICBSZXRvbkRlY2lzYW8gPSBcInN1YmlyXCI7XG4gICAgICAgIH1lbHNlIGlmIChwZXJzb25hZ2Vuc1tzZXJBXS55PHBlcnNvbmFnZW5zW3NlckJdLnkpe1xuICAgICAgICAgIC8vXCIrMVwiIFxuICAgICAgICAgIFJldG9uRGVjaXNhbyA9IFwiZGVzY2VyXCI7XG4gICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICBpZihwZXJzb25hZ2Vuc1tzZXJBXS54PnBlcnNvbmFnZW5zW3NlckJdLngpe1xuICAgICAgICAgIC8vXCItMVwiXG4gICAgICAgICAgUmV0b25EZWNpc2FvID0gXCI8LVwiO1xuICAgICAgICB9ZWxzZSBpZiAocGVyc29uYWdlbnNbc2VyQV0ueDxwZXJzb25hZ2Vuc1tzZXJCXS54KXtcbiAgICAgICAgICAvL1wiKzFcIlxuICAgICAgICAgIFJldG9uRGVjaXNhbyA9IFwiLT5cIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gUmV0b25EZWNpc2FvXG4gICAgLy9wZXJzb25hZ2Vuc1tpXS53aWR0aFxuICAgIC8vcGVyc29uYWdlbnNbaV0uaGVpZ2h0XG4gIH1cblxuICBmdW5jdGlvbiBtb3ZlclBlcnNvbmFnZW0ocGVyc29uYUF0dWFsLHZhckRpcmVjYW8pe1xuICAgIGlmKHZhckRpcmVjYW89PVwic3ViaXJcIil7XG4gICAgICBwZXJzb25hZ2Vuc1twZXJzb25hQXR1YWxdLnkgPSBwZXJzb25hZ2Vuc1twZXJzb25hQXR1YWxdLnkgLSBwZXJzb25hZ2Vuc1twZXJzb25hQXR1YWxdLnZlbG9jaWRhZGVcbiAgICAgIGlmKHBlcnNvbmFnZW5zW3BlcnNvbmFBdHVhbF0ueSA8IDApe1xuICAgICAgICBwZXJzb25hZ2Vuc1twZXJzb25hQXR1YWxdLnkgPSA2MDA7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmKHZhckRpcmVjYW89PVwiZGVzY2VyXCIpe1xuICAgICAgcGVyc29uYWdlbnNbcGVyc29uYUF0dWFsXS55ID0gcGVyc29uYWdlbnNbcGVyc29uYUF0dWFsXS55ICsgcGVyc29uYWdlbnNbcGVyc29uYUF0dWFsXS52ZWxvY2lkYWRlXG4gICAgICBpZihwZXJzb25hZ2Vuc1twZXJzb25hQXR1YWxdLnkgPiA2MDApe1xuICAgICAgICBwZXJzb25hZ2Vuc1twZXJzb25hQXR1YWxdLnkgPSAwO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZih2YXJEaXJlY2FvPT1cIjwtXCIpe1xuICAgICAgcGVyc29uYWdlbnNbcGVyc29uYUF0dWFsXS54ID0gcGVyc29uYWdlbnNbcGVyc29uYUF0dWFsXS54IC0gcGVyc29uYWdlbnNbcGVyc29uYUF0dWFsXS52ZWxvY2lkYWRlXG4gICAgICBwZXJzb25hZ2Vuc1twZXJzb25hQXR1YWxdLm9iakltZy5zcmM9cGVyc29uYWdlbnNbcGVyc29uYUF0dWFsXS5pbWdlO1xuICAgICAgaWYocGVyc29uYWdlbnNbcGVyc29uYUF0dWFsXS54IDwgMCl7XG4gICAgICAgIHBlcnNvbmFnZW5zW3BlcnNvbmFBdHVhbF0ueCA9IDU5OTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYodmFyRGlyZWNhbz09XCItPlwiKXtcbiAgICAgIHBlcnNvbmFnZW5zW3BlcnNvbmFBdHVhbF0ueCA9IHBlcnNvbmFnZW5zW3BlcnNvbmFBdHVhbF0ueCArIHBlcnNvbmFnZW5zW3BlcnNvbmFBdHVhbF0udmVsb2NpZGFkZVxuICAgICAgcGVyc29uYWdlbnNbcGVyc29uYUF0dWFsXS5vYmpJbWcuc3JjPXBlcnNvbmFnZW5zW3BlcnNvbmFBdHVhbF0uaW1nO1xuICAgICAgaWYocGVyc29uYWdlbnNbcGVyc29uYUF0dWFsXS54ID4gNjAwKXtcbiAgICAgICAgcGVyc29uYWdlbnNbcGVyc29uYUF0dWFsXS54ID0gMDtcbiAgICAgIH1cbiAgICB9IFxuXG4gICAgcGVyc29uYWdlbnNbcGVyc29uYUF0dWFsXS5kaXJlY2FvID0gdmFyRGlyZWNhbztcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaWNpYXJQZXJzb25hZ2Vucygpe1xuICAgIGNvbnNvbGUubG9nKFwiISEhISEgaW5pY2lhclBlcnNvbmFnZW5zKClcIik7XG4gICAgdmFyIGkgPSAwO1xuICAgIGZ1bmNQcm9wU2VyKFwibm92b1wiLGkrKyxcImNlbmFyaW9cIiwwLDApXG4gICAgZnVuY1Byb3BTZXIoXCJub3ZvXCIsaSsrLFwiYXZhdGFyXCIsZnVuY0xvY2FsSW5pdCgpLGZ1bmNMb2NhbEluaXQoKSlcbiAgICBmdW5jUHJvcFNlcihcIm5vdm9cIixpKyssXCJjYXJuaXZvcm9cIixmdW5jTG9jYWxJbml0KCksZnVuY0xvY2FsSW5pdCgpKVxuICAgIGZ1bmNQcm9wU2VyKFwibm92b1wiLGkrKyxcImhlcmJpdm9yb1wiLGZ1bmNMb2NhbEluaXQoKSxmdW5jTG9jYWxJbml0KCkpXG4gICAgZnVuY1Byb3BTZXIoXCJub3ZvXCIsaSsrLFwiaGVyYml2b3JvXCIsZnVuY0xvY2FsSW5pdCgpLGZ1bmNMb2NhbEluaXQoKSlcbiAgICBmdW5jUHJvcFNlcihcIm5vdm9cIixpKyssXCJvdm9cIixmdW5jTG9jYWxJbml0KCksZnVuY0xvY2FsSW5pdCgpKVxuICAgIGZ1bmNQcm9wU2VyKFwibm92b1wiLGkrKyxcIm92b1wiLGZ1bmNMb2NhbEluaXQoKSxmdW5jTG9jYWxJbml0KCkpXG4gICAgZnVuY1Byb3BTZXIoXCJub3ZvXCIsaSsrLFwicGxhbnRhXCIsZnVuY0xvY2FsSW5pdCgpLGZ1bmNMb2NhbEluaXQoKSlcbiAgICBmdW5jUHJvcFNlcihcIm5vdm9cIixpKyssXCJwbGFudGFcIixmdW5jTG9jYWxJbml0KCksZnVuY0xvY2FsSW5pdCgpKVxuICAgIGZ1bmNQcm9wU2VyKFwibm92b1wiLGkrKyxcInBsYW50YVwiLGZ1bmNMb2NhbEluaXQoKSxmdW5jTG9jYWxJbml0KCkpXG4gICAgZnVuY1Byb3BTZXIoXCJub3ZvXCIsaSsrLFwiY29jb1wiLGZ1bmNMb2NhbEluaXQoKSxmdW5jTG9jYWxJbml0KCkpXG4gICAgZnVuY1Byb3BTZXIoXCJub3ZvXCIsaSsrLFwiaGVyYml2b3JvXCIsZnVuY0xvY2FsSW5pdCgpLGZ1bmNMb2NhbEluaXQoKSlcbiAgICBmdW5jUHJvcFNlcihcIm5vdm9cIixpKyssXCJwbGFudGFcIixmdW5jTG9jYWxJbml0KCksZnVuY0xvY2FsSW5pdCgpKVxuICAgIGZ1bmNQcm9wU2VyKFwibm92b1wiLGkrKyxcInBsYW50YVwiLGZ1bmNMb2NhbEluaXQoKSxmdW5jTG9jYWxJbml0KCkpXG4gICAgZnVuY1Byb3BTZXIoXCJub3ZvXCIsaSsrLFwicGxhbnRhXCIsZnVuY0xvY2FsSW5pdCgpLGZ1bmNMb2NhbEluaXQoKSlcbiAgICBmdW5jUHJvcFNlcihcIm5vdm9cIixpKyssXCJwbGFudGFcIixmdW5jTG9jYWxJbml0KCksZnVuY0xvY2FsSW5pdCgpKVxuICAgIGZ1bmNQcm9wU2VyKFwibm92b1wiLGkrKyxcInBsYW50YVwiLGZ1bmNMb2NhbEluaXQoKSxmdW5jTG9jYWxJbml0KCkpXG4gICAgZnVuY1Byb3BTZXIoXCJub3ZvXCIsaSsrLFwicGxhbnRhXCIsZnVuY0xvY2FsSW5pdCgpLGZ1bmNMb2NhbEluaXQoKSlcbiAgICBmdW5jUHJvcFNlcihcIm5vdm9cIixpKyssXCJwbGFudGFcIixmdW5jTG9jYWxJbml0KCksZnVuY0xvY2FsSW5pdCgpKVxuICAgIGZ1bmNQcm9wU2VyKFwibm92b1wiLGkrKyxcInBsYW50YVwiLGZ1bmNMb2NhbEluaXQoKSxmdW5jTG9jYWxJbml0KCkpXG4gICAgZnVuY1Byb3BTZXIoXCJub3ZvXCIsaSsrLFwicGxhbnRhXCIsZnVuY0xvY2FsSW5pdCgpLGZ1bmNMb2NhbEluaXQoKSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaWNpYXJHYW1lKCl7XG5cbiAgICBpbmljaWFyUGVyc29uYWdlbnMoKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCd8IERpZ2l0b3UgYWxnbyB8IDzilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAnKTtcbiAgICAgIHZhciB2YXJLZXlDb2RlID0gZXZlbnQua2V5Q29kZVxuICAgICAgdmFyIHZhcktleSA9IGV2ZW50LmtleVxuICAgICAgaWYgKHZhcktleUNvZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcInZhcktleUNvZGUgIT09IHVuZGVmaW5lZFwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJ2YXJLZXlDb2RlPVwiK3ZhcktleUNvZGUpO1xuICAgICAgICBjb25zb2xlLmxvZyhcInZhcktleT1cIit2YXJLZXkpO1xuICAgICAgICB2YXIgZXZlbnRvPVwicGFyYXJcIjtcbiAgICAgICAgaWYodmFyS2V5Q29kZT09XCIzOFwiIHx8IHZhcktleUNvZGU9PTM4IHx8IHZhcktleT09XCJBcnJvd1VwXCIpe1xuICAgICAgICAgIGV2ZW50bz1cInN1YmlyXCJcbiAgICAgICAgfSBlbHNlIGlmKHZhcktleUNvZGU9PVwiNDBcIiB8fCB2YXJLZXlDb2RlPT00MCB8fCB2YXJLZXk9PVwiQXJyb3dVcFwiKXtcbiAgICAgICAgICBldmVudG89XCJkZXNjZXJcIlxuICAgICAgICB9IGVsc2UgaWYodmFyS2V5Q29kZT09XCIzN1wiIHx8IHZhcktleUNvZGU9PTQ3IHx8IHZhcktleT09XCJBcnJvd0xlZnRcIil7XG4gICAgICAgICAgZXZlbnRvPVwiPC1cIlxuICAgICAgICB9IGVsc2UgaWYodmFyS2V5Q29kZT09XCIzOVwiIHx8IHZhcktleUNvZGU9PTM5IHx8IHZhcktleT09XCJBcnJvd1JpZ2h0XCIpe1xuICAgICAgICAgIGV2ZW50bz1cIi0+XCJcbiAgICAgICAgfSBcbiAgICAgICAgY29uc29sZS5sb2coJ2V2ZW50byA9ICcgKyBldmVudG8pO1xuICAgICAgICB1bHRpbWFUZWNsYT1ldmVudG87XG4gICAgICAgIG1vdmVyUGVyc29uYWdlbSgxLCBldmVudG8pO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGNvbnNvbGUubG9nKFwidmFyS2V5Q29kZSA9PSB1bmRlZmluZWRcIik7XG4gICAgICAgIGFsZXJ0KFwidmFyS2V5Q29kZSA9PSB1bmRlZmluZWRcIik7XG4gICAgICB9XG4gICAgfSwgdHJ1ZSk7XG4gICAgXG4gICAgZGVzZW5oYXJDYW52YXMoKTtcbiAgICByZWxvZ2lvID0gc2V0SW50ZXJ2YWwoY29tcG9ydGFtZW50bywgMTAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZ1bmNMb2NhbEluaXQoKXtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNTAwICsgMSlcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPERpdiBkaXNwbGF5PVwicmVzcG9uc2l2b1wiPlxuICAgICAgPGRpdj5cbiAgICAgIDxhIGlkPVwiYnRMaW5rSW5pY2lhclwiIGNsYXNzTmFtZT1cImJ0Q2luemFcIiBvbkNsaWNrPXsoKSA9PiB7aW5pY2lhckdhbWUoKX19PkluaWNpYXIgR2FtZTwvYT5cbiAgICAgIDxjYW52YXMgaWQ9XCJjYW52YXNHYW1lXCIgd2lkdGg9XCI2MDBcIiBoZWlnaHQ9XCI2MDBcIj48L2NhbnZhcz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJDb250cm9sZXNcIj5cbiAgICAgICAgPGgzPkNvbnRyb2xlIGRvIHBlcnNvbmFnZW0gQVZBVEFSLjwvaDM+XG4gICAgICAgIDxEaXYgZGlzcGxheT1cInZlcnRpY2FsXCI+XG4gICAgICAgIDxhIGlkPVwiYnRMaW5rSW5pY2lhclwiIGNsYXNzTmFtZT1cImJ0Q2luemFcIiBvbkNsaWNrPXsoKSA9PiB7bW92ZXJQZXJzb25hZ2VtKDEsXCJzdWJpclwiKX19PnNvYmU8L2E+XG4gICAgICAgIDxEaXYgZGlzcGxheT1cImp1c3RpZmljYWRvXCI+XG4gICAgICAgIDxhIGlkPVwiYnRMaW5rSW5pY2lhclwiIGNsYXNzTmFtZT1cImJ0Q2luemFcIiBvbkNsaWNrPXsoKSA9PiB7bW92ZXJQZXJzb25hZ2VtKDEsXCI8LVwiKX19PmVzcXVlcmRhPC9hPlxuICAgICAgICA8YSBpZD1cImJ0TGlua0luaWNpYXJcIiBjbGFzc05hbWU9XCJidENpbnphXCIgb25DbGljaz17KCkgPT4ge21vdmVyUGVyc29uYWdlbSgxLFwiLT5cIil9fT5kaXJlaXRhPC9hPlxuICAgICAgICA8L0Rpdj5cbiAgICAgICAgPGEgaWQ9XCJidExpbmtJbmljaWFyXCIgY2xhc3NOYW1lPVwiYnRDaW56YVwiIG9uQ2xpY2s9eygpID0+IHttb3ZlclBlcnNvbmFnZW0oMSxcImRlc2NlclwiKX19PmRlc2NlPC9hPiAgIFxuICAgICAgICA8L0Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAuQ29udHJvbGVze1xuICAgICAgICAgIG1hcmdpbjogMTBweDtcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgfVxuICAgICAgICAuR29kemlsbGEge1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgfVxuICAgICAgICBjYW52YXMge1xuICAgICAgICAgIGJvcmRlciA6IHNvbGlkIDFweDtcbiAgICAgICAgfVxuICAgICAgICAuYnRDaW56YSB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuOHM7XG4gICAgICAgICAgICBmb250LWZhbWlseTogb2lUZXh0UmVndWxhciwgc2Fucy1zZXJpZjtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyNjI5M2M7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xuICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7XG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTsgLyoxNnB4Ki9cbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgICAgICAgIGJvcmRlcjogc29saWQgMnB4ICM0YTUxNmI7XG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICBvdXRsaW5lOiAwO1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbSA6IDEwcHg7XG4gICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBtYXgtd2lkdGg6IDYwMHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAuYnRDaW56YTpob3ZlciB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC44cztcbiAgICAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDAuOHM7XG4gICAgICAgICAgICAtbW96LXRyYW5zaXRpb246IGFsbCAwLjhzO1xuICAgICAgICAgICAgLW8tdHJhbnNpdGlvbjogYWxsIDAuOHM7XG4gICAgICAgICAgICAvKmNvbG9yOiAjZDgyNDgyOyovXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNGE1MTZiO1xuICAgICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L0Rpdj5cbiAgKVxufVxuXG4vLyA8ZGl2IGNsYXNzTmFtZT1cIkdvZHppbGxhXCIgaWQ9XCJwb3NpdGlvblwiPlxuLy8gPGEgaHJlZj1cIiNtZXVMaW5rXCIgb25jbGljaz1cIm15RnVuY3Rpb24oKTtcIj5cbi8vPGltZyBvbmxvYWQ9XCJtb3VzZSgpO1wiIGFsdD1cIkZ1bmRvXCIgc3JjPVwiaHR0cHM6Ly9pbWctcy1tc24tY29tLmFrYW1haXplZC5uZXQvdGVuYW50L2FtcC9lbnRpdHlpZC9CQlZTaEVhLmltZz9oPTQxNiZhbXA7dz03OTkmYW1wO209NiZhbXA7cT02MCZhbXA7dT10JmFtcDtvPWYmYW1wO2w9ZiZhbXA7eD04NzEmYW1wO3k9NjU0XCIgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiIHRpdGxlPVwiQ2Vuw6FyaW8gZGUgY2lkYWRlc1wiPjwvaW1nPlxuXG5leHBvcnQgZGVmYXVsdCBvcmdFY29zc2lzdGVtYVxuIl19 */\\n/*@ sourceURL=/home/oi402825/Documentos/Projetos/site_do_valente/components/organisms/orgEcossistema/index.js */\"));\n}; // <div className=\"Godzilla\" id=\"position\">\n// <a href=\"#meuLink\" onclick=\"myFunction();\">\n//<img onload=\"mouse();\" alt=\"Fundo\" src=\"https://img-s-msn-com.akamaized.net/tenant/amp/entityid/BBVShEa.img?h=416&amp;w=799&amp;m=6&amp;q=60&amp;u=t&amp;o=f&amp;l=f&amp;x=871&amp;y=654\" width=\"100%\" height=\"100%\" title=\"Cenário de cidades\"></img>\n\n\nexport default orgEcossistema;","map":{"version":3,"sources":["/home/oi402825/Documentos/Projetos/site_do_valente/components/organisms/orgEcossistema/index.js"],"names":["React","Div","orgEcossistema","props","relogio","personagens","ultimaTecla","funcPropSer","varNovo","NumSer","tipo","varPositX","varPositY","console","log","objImg","Image","x","y","hierarquia","width","height","velocidade","imge","img","src","direcao","objetivo","tempo","comportamento","serA","length","serB","menorDistancia","distanciaAtual","melhorDecisao","serMaisPerto","calDistancia","CalDecisao","moverPersonagem","desenharCanvas","CNV","document","getElementById","CTX","getContext","i","pespectiva","drawImage","font","fillStyle","varDistancia","RetonDecisao","tamanho","sorteio","Math","floor","random","personaAtual","varDirecao","iniciarPersonagens","funcLocalInit","iniciarGame","window","addEventListener","event","varKeyCode","keyCode","varKey","key","undefined","evento","alert","setInterval"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Div from '../../atoms/atDiv/index.js';\n\n\nconst orgEcossistema = function (props) {\n\n  var relogio;\n  var personagens = [];\n  var ultimaTecla = \"parar\";\n\n  function funcPropSer(varNovo,NumSer, tipo, varPositX, varPositY){\n    console.log(\"--->funcPropSer(\"+varNovo+\",\"+NumSer+\",\"+ tipo+\",\"+ varPositX+\",\"+ varPositY +\")\")\n    if(varNovo==\"novo\"){\n      console.log(\"Criando NOVO personagens [\"+ NumSer +\"]\");\n      personagens[NumSer] = {\n        \"tipo\":tipo,\n        \"width\": 20,\n        \"height\": 20,\n        \"direcao\":\"parado\",\n        \"objetivo\":\"nada\"\n      }\n      console.log(\"---> personagens[\"+ NumSer +\"] = \" + personagens[NumSer]);\n      console.log(\"---> personagens[\"+ NumSer +\"].tipo = \" + personagens[NumSer].tipo);\n      personagens[NumSer].objImg = new Image();\n    }\n    //else if (==\"altera\"){ }\n    if(varPositX!=\"manter\"){\n      personagens[NumSer].x=varPositX;\n    }\n    if(varPositY!=\"manter\"){\n      personagens[NumSer].y=varPositY;\n    }\n    if(tipo==\"avatar\"){\n        personagens[NumSer].tipo=\"avatar\";\n        personagens[NumSer].hierarquia=4;\n        personagens[NumSer].width=20;\n        personagens[NumSer].height=20;\n        personagens[NumSer].velocidade=3;\n        personagens[NumSer].imge=\"https://images.vexels.com/media/users/3/177827/isolated/preview/03cbb4fb0d0318befadf121314e35d40-cabelo-de-monstro-monstro-liso-by-vexels.png\";\n        personagens[NumSer].img=\"https://images.vexels.com/media/users/3/177827/isolated/preview/03cbb4fb0d0318befadf121314e35d40-cabelo-de-monstro-monstro-liso-by-vexels.png\";\n        personagens[NumSer].objImg.src =\"https://images.vexels.com/media/users/3/177827/isolated/preview/03cbb4fb0d0318befadf121314e35d40-cabelo-de-monstro-monstro-liso-by-vexels.png\";\n        personagens[NumSer].direcao=\"parado\";\n        personagens[NumSer].objetivo=\"nada\";\n        personagens[NumSer].tempo=100;\n    }else if(tipo==\"carnivoro\"){\n        personagens[NumSer].tipo=\"carnivoro\";\n        personagens[NumSer].hierarquia=4;\n        personagens[NumSer].width=40;\n        personagens[NumSer].height=40;\n        personagens[NumSer].imge=\"/static/assetsv5/img/game/minitrexe.png\";\n        personagens[NumSer].img=\"/static/assetsv5/img/game/minitrex.png\";\n        personagens[NumSer].velocidade=4;\n        personagens[NumSer].objImg.src =\"/static/assetsv5/img/game/minitrex.png\";\n        personagens[NumSer].direcao=\"parado\";\n        personagens[NumSer].objetivo=\"nada\";\n        personagens[NumSer].tempo=2000;\n    }else if(tipo==\"herbivoro\"){\n        personagens[NumSer].tipo=\"herbivoro\";\n        personagens[NumSer].hierarquia=3;\n        personagens[NumSer].width=40;\n        personagens[NumSer].height=20;\n        personagens[NumSer].velocidade=2;\n        personagens[NumSer].imge=\"/static/assetsv5/img/game/herbivoroe.png\";\n        personagens[NumSer].img=\"/static/assetsv5/img/game/herbivoro.png\";\n        personagens[NumSer].objImg.src =\"/static/assetsv5/img/game/herbivoro.png\";\n        personagens[NumSer].direcao=\"parado\";\n        personagens[NumSer].objetivo=\"nada\";\n        personagens[NumSer].tempo=1000;\n    }else if(tipo==\"ovo\"){\n        personagens[NumSer].tipo=\"ovo\";\n        personagens[NumSer].hierarquia=2;\n        personagens[NumSer].width=10;\n        personagens[NumSer].height=10;\n        personagens[NumSer].velocidade=0;\n        personagens[NumSer].imge=\"/static/assetsv5/img/game/ovo.png\";\n        personagens[NumSer].img=\"/static/assetsv5/img/game/ovo.png\";\n        personagens[NumSer].objImg.src =\"/static/assetsv5/img/game/ovo.png\";\n        personagens[NumSer].direcao=\"parado\";\n        personagens[NumSer].objetivo=\"nada\";\n        personagens[NumSer].tempo=100;\n    }else if(tipo==\"planta\"){\n        personagens[NumSer].tipo=\"planta\";\n        personagens[NumSer].hierarquia=1;\n        personagens[NumSer].width=15;\n        personagens[NumSer].height=15;\n        personagens[NumSer].velocidade=0;\n        personagens[NumSer].imge=\"/static/assetsv5/img/game/planta.png\";\n        personagens[NumSer].img=\"/static/assetsv5/img/game/planta.png\";\n        personagens[NumSer].objImg.src =\"/static/assetsv5/img/game/planta.png\";\n        personagens[NumSer].direcao=\"parado\";\n        personagens[NumSer].objetivo=\"nada\";\n        personagens[NumSer].tempo=100;\n    }else if(tipo==\"coco\"){\n        personagens[NumSer].tipo=\"coco\";\n        personagens[NumSer].hierarquia=0;\n        personagens[NumSer].width=20;\n        personagens[NumSer].height=20;\n        personagens[NumSer].velocidade=0;\n        personagens[NumSer].imge=\"https://image.flaticon.com/icons/svg/1642/1642901.svg\";\n        personagens[NumSer].img=\"https://image.flaticon.com/icons/svg/1642/1642901.svg\";\n        personagens[NumSer].objImg.src=\"/static/assetsv5/img/game/caverinha.png\";\n        personagens[NumSer].direcao=\"parado\";\n        personagens[NumSer].objetivo=\"nada\";\n        personagens[NumSer].tempo=100;\n    }else if(tipo==\"cenario\"){\n        personagens[NumSer].tipo=\"cenario\";\n        personagens[NumSer].hierarquia=0;\n        personagens[NumSer].width=600;\n        personagens[NumSer].height=600;\n        personagens[NumSer].velocidade=0;\n        personagens[NumSer].imge=\"/static/assetsv5/img/game/terrenoecossistema.jpg\";\n        personagens[NumSer].img=\"/static/assetsv5/img/game/terrenoecossistema.jpg\";\n        personagens[NumSer].objImg.src=\"/static/assetsv5/img/game/terrenoecossistema.jpg\";\n        personagens[NumSer].direcao=\"parado\";\n        personagens[NumSer].objetivo=\"nada\";\n        personagens[NumSer].tempo=100;\n    }\n    console.log(\"---> personagens[\"+ NumSer +\"].tipo = \" + personagens[NumSer].tipo);\n  }\n\n\n  function comportamento(){\n    //O personagem 0 é o cenário.\n    //O personagem 1 é o avatar.\n    var serA = 2\n    for (serA=2; serA < personagens.length; serA++) {\n    //for (serA=2; serA < 5; serA++) {\n      personagens[serA].tempo=personagens[serA].tempo-1;\n      if(personagens[serA].tipo==\"carnivoro\"||personagens[serA].tipo==\"herbivoro\"){\n        if(personagens[serA].tempo<1){\n          funcPropSer(\"altera\",serA, \"coco\", \"manter\", \"manter\");\n        }else{\n          var serB = 1\n          var menorDistancia = 1200;\n          var distanciaAtual = 1200;\n          var melhorDecisao=\"parado\";\n          var serMaisPerto=1;\n          for (serB=2; serB < personagens.length; serB++) {\n          //for (serB=1; serB < 5; serB++) {\n            // console.log('comparando o personagem '+serA+ 'com' +serB+ '.');\n            // console.log('Personagem A ('+serA+') é um '+personagens[serA].tipo+'.');\n            // console.log('Personagem B ('+serB+') é um '+personagens[serB].tipo+'.');\n            if(serA!=serB){\n                \n                if(personagens[serA].tipo==\"carnivoro\"){\n                    if(personagens[serB].tipo==\"herbivoro\"){\n                        //Caçar\n                        distanciaAtual = calDistancia(serA,serB)\n                        if(menorDistancia>distanciaAtual){ \n                            menorDistancia=distanciaAtual;\n                            melhorDecisao=CalDecisao(serA,serB);\n                            serMaisPerto=serB;\n                            personagens[serA].objetivo=\"caçando\"\n                        } \n                    }\n                }else if(personagens[serA].tipo==\"herbivoro\"){\n                    if(personagens[serB].tipo==\"planta\"){\n                        //Caçar\n                        distanciaAtual = calDistancia(serA,serB)\n                        if(menorDistancia>distanciaAtual){ \n                            menorDistancia=distanciaAtual;\n                            melhorDecisao=CalDecisao(serA,serB);\n                            serMaisPerto=serB;\n                            personagens[serA].objetivo=serA\n                        }\n                    }else if(personagens[serB].tipo==\"carnivoro\"){\n                        //Fugir\n                        distanciaAtual = calDistancia(serA,serB)\n                        if(menorDistancia>distanciaAtual){ \n                            menorDistancia=distanciaAtual;\n                            melhorDecisao=CalDecisao(serB,serA);\n                            serMaisPerto=serB;\n                            personagens[serA].objetivo=\"Fugindo de \" + serB\n                        }\n                    }\n                }\n            }\n          } // Fim do FOR B\n          //console.log('Personagem '+serA+' está a disanca de ' + menorDistancia + ' do .' + serMaisPerto);\n          //console.log('A melhor decisão é ir para '+ melhorDecisao +'.');\n          if(personagens[serA].tipo==\"carnivoro\" && melhorDecisao==\"devorou\"){\n              personagens[serA].tempo = 2000;\n              funcPropSer(\"altera\",serMaisPerto, \"coco\", \"manter\", \"manter\");\n          }else if(personagens[serA].tipo==\"herbivoro\" && personagens[serMaisPerto].tipo==\"planta\" && melhorDecisao==\"devorou\"){\n            personagens[serA].tempo = 2000;\n            funcPropSer(\"altera\",serMaisPerto, \"ovo\", \"manter\", \"manter\");\n          } \n          moverPersonagem(serA, melhorDecisao);\n        }\n      } else if(personagens[serA].tipo==\"ovo\"&&personagens[serA].tempo<1){\n        funcPropSer(\"altera\",serA, \"herbivoro\", \"manter\", \"manter\");\n      }else if(personagens[serA].tipo==\"planta\"&&personagens[serA].tempo<1){\n        personagens[serA].width = personagens[serA].width+2,\n        personagens[serA].height = personagens[serA].height+2,\n        personagens[serA].tempo = 100;\n      }else if(personagens[serA].tipo==\"coco\"&&personagens[serA].tempo<1){\n        funcPropSer(\"altera\",serA, \"planta\", \"manter\", \"manter\");\n      }// Fim do if\n    } // Fim do FOR A\n    desenharCanvas();\n  }\n\n  function desenharCanvas(){\n    // Desenha os objetos na tela.\n    var CNV = document.getElementById('canvasGame')\n    var CTX = CNV.getContext(\"2d\");\n    var i;\n    var pespectiva = 0;\n    console.log('| inicio do FOR | <══════════════════════════════════════');\n    console.log(personagens);\n    for (i=0; i < personagens.length; i++) {\n    //for (i=0; i < 5; i++) {\n      console.log(\"i=\"+i);\n      console.log(\"tipo = \"+personagens[i].tipo);\n      //pespectiva =  parseInt(personagens[i].y/10); //(y = 0 a 600) Proporção 10 a 60\n      //CTX.drawImage(personagens[i].objImg, personagens[i].x, personagens[i].y, (personagens[i].width+pespectiva),(personagens[i].height+pespectiva));  \n      CTX.drawImage(personagens[i].objImg, personagens[i].x, personagens[i].y, personagens[i].width, personagens[i].height);\n      CTX.font = \"30px Arial\";\n      CTX.fillStyle = \"red\"; //personagens[i].cor\n      //CTX.fillText(i+'-'+personagens[i].tipo, personagens[i].x+25,personagens[i].y-10);\n      //CTX.fillText(i);\n      //CTX.fillText(personagens[i].objetivo, personagens[i].x+25, personagens[i].y);\n      //CTX.fillText(personagens[i].direcao, personagens[i].x+25,personagens[i].y+10);\n      //CTX.fillText(personagens[i].tempo, personagens[i].x+25,personagens[i].y+20);\n    }\n    console.log('| fim do FOR | <══════════════════════════════════════');\n\n    // CNV.addEventListener('mousemove', function(evt) {\n    //   var mousePos = getMousePos(canvas, evt);\n    //   var message = 'Mouse position: ' + mousePos.x + ',' + mousePos.y;\n    //   alert(message);\n    // }, false);\n  }\n\n  function calDistancia(serA,serB){\n    var varDistancia = 0;\n    if(personagens[serA].x==personagens[serB].x&&personagens[serA].y==personagens[serB].y){\n      varDistancia = 0;\n    }else{\n      \n      if(personagens[serA].x>personagens[serB].x){\n        //\"-1\"\n        varDistancia = personagens[serA].x-personagens[serB].x\n      }else if (personagens[serA].x<personagens[serB].x){\n        //\"+1\"\n        varDistancia = personagens[serA].x+personagens[serB].x\n      }\n      if(personagens[serA].y>personagens[serB].y){\n        //\"-1\"\n        varDistancia = varDistancia + personagens[serA].y-personagens[serB].y\n      }else if (personagens[serA].y<personagens[serB].y){\n        //\"+1\" \n        varDistancia = varDistancia + personagens[serA].y+personagens[serB].y\n      }\n    }\n    return varDistancia\n  }\n\n  function CalDecisao(serA,serB){\n    var RetonDecisao = \"parado\"\n    var tamanho = personagens[serA].width / 2\n    if((personagens[serA].x+tamanho>personagens[serB].x&&personagens[serA].x-tamanho<personagens[serB].x)&&(personagens[serA].y+tamanho>personagens[serB].y&&personagens[serA].y-tamanho<personagens[serB].y)){\n      RetonDecisao = \"devorou\";  \n    }else{\n      var sorteio = Math.floor((Math.random() * 2) + 1);\n      console.log('sorteio='+sorteio);\n      if(sorteio==1){\n        if(personagens[serA].y>personagens[serB].y){\n          //\"-1\"\n          RetonDecisao = \"subir\";\n        }else if (personagens[serA].y<personagens[serB].y){\n          //\"+1\" \n          RetonDecisao = \"descer\";\n        }\n      }else{\n        if(personagens[serA].x>personagens[serB].x){\n          //\"-1\"\n          RetonDecisao = \"<-\";\n        }else if (personagens[serA].x<personagens[serB].x){\n          //\"+1\"\n          RetonDecisao = \"->\";\n        }\n      }\n    }\n    return RetonDecisao\n    //personagens[i].width\n    //personagens[i].height\n  }\n\n  function moverPersonagem(personaAtual,varDirecao){\n    if(varDirecao==\"subir\"){\n      personagens[personaAtual].y = personagens[personaAtual].y - personagens[personaAtual].velocidade\n      if(personagens[personaAtual].y < 0){\n        personagens[personaAtual].y = 600;\n      }\n    } else if(varDirecao==\"descer\"){\n      personagens[personaAtual].y = personagens[personaAtual].y + personagens[personaAtual].velocidade\n      if(personagens[personaAtual].y > 600){\n        personagens[personaAtual].y = 0;\n      }\n    } else if(varDirecao==\"<-\"){\n      personagens[personaAtual].x = personagens[personaAtual].x - personagens[personaAtual].velocidade\n      personagens[personaAtual].objImg.src=personagens[personaAtual].imge;\n      if(personagens[personaAtual].x < 0){\n        personagens[personaAtual].x = 599;\n      }\n    } else if(varDirecao==\"->\"){\n      personagens[personaAtual].x = personagens[personaAtual].x + personagens[personaAtual].velocidade\n      personagens[personaAtual].objImg.src=personagens[personaAtual].img;\n      if(personagens[personaAtual].x > 600){\n        personagens[personaAtual].x = 0;\n      }\n    } \n\n    personagens[personaAtual].direcao = varDirecao;\n  }\n\n  function iniciarPersonagens(){\n    console.log(\"!!!!! iniciarPersonagens()\");\n    var i = 0;\n    funcPropSer(\"novo\",i++,\"cenario\",0,0)\n    funcPropSer(\"novo\",i++,\"avatar\",funcLocalInit(),funcLocalInit())\n    funcPropSer(\"novo\",i++,\"carnivoro\",funcLocalInit(),funcLocalInit())\n    funcPropSer(\"novo\",i++,\"herbivoro\",funcLocalInit(),funcLocalInit())\n    funcPropSer(\"novo\",i++,\"herbivoro\",funcLocalInit(),funcLocalInit())\n    funcPropSer(\"novo\",i++,\"ovo\",funcLocalInit(),funcLocalInit())\n    funcPropSer(\"novo\",i++,\"ovo\",funcLocalInit(),funcLocalInit())\n    funcPropSer(\"novo\",i++,\"planta\",funcLocalInit(),funcLocalInit())\n    funcPropSer(\"novo\",i++,\"planta\",funcLocalInit(),funcLocalInit())\n    funcPropSer(\"novo\",i++,\"planta\",funcLocalInit(),funcLocalInit())\n    funcPropSer(\"novo\",i++,\"coco\",funcLocalInit(),funcLocalInit())\n    funcPropSer(\"novo\",i++,\"herbivoro\",funcLocalInit(),funcLocalInit())\n    funcPropSer(\"novo\",i++,\"planta\",funcLocalInit(),funcLocalInit())\n    funcPropSer(\"novo\",i++,\"planta\",funcLocalInit(),funcLocalInit())\n    funcPropSer(\"novo\",i++,\"planta\",funcLocalInit(),funcLocalInit())\n    funcPropSer(\"novo\",i++,\"planta\",funcLocalInit(),funcLocalInit())\n    funcPropSer(\"novo\",i++,\"planta\",funcLocalInit(),funcLocalInit())\n    funcPropSer(\"novo\",i++,\"planta\",funcLocalInit(),funcLocalInit())\n    funcPropSer(\"novo\",i++,\"planta\",funcLocalInit(),funcLocalInit())\n    funcPropSer(\"novo\",i++,\"planta\",funcLocalInit(),funcLocalInit())\n    funcPropSer(\"novo\",i++,\"planta\",funcLocalInit(),funcLocalInit())\n  }\n\n  function iniciarGame(){\n\n    iniciarPersonagens();\n\n    window.addEventListener(\"keydown\", function (event) {\n      console.log('| Digitou algo | <══════════════════════════════════════');\n      var varKeyCode = event.keyCode\n      var varKey = event.key\n      if (varKeyCode !== undefined) {\n        console.log(\"varKeyCode !== undefined\");\n        console.log(\"varKeyCode=\"+varKeyCode);\n        console.log(\"varKey=\"+varKey);\n        var evento=\"parar\";\n        if(varKeyCode==\"38\" || varKeyCode==38 || varKey==\"ArrowUp\"){\n          evento=\"subir\"\n        } else if(varKeyCode==\"40\" || varKeyCode==40 || varKey==\"ArrowUp\"){\n          evento=\"descer\"\n        } else if(varKeyCode==\"37\" || varKeyCode==47 || varKey==\"ArrowLeft\"){\n          evento=\"<-\"\n        } else if(varKeyCode==\"39\" || varKeyCode==39 || varKey==\"ArrowRight\"){\n          evento=\"->\"\n        } \n        console.log('evento = ' + evento);\n        ultimaTecla=evento;\n        moverPersonagem(1, evento);\n      }else{\n        console.log(\"varKeyCode == undefined\");\n        alert(\"varKeyCode == undefined\");\n      }\n    }, true);\n    \n    desenharCanvas();\n    relogio = setInterval(comportamento, 100);\n  }\n\n  function funcLocalInit(){\n    return Math.floor(Math.random() * 500 + 1)\n  }\n\n  return (\n    <Div display=\"responsivo\">\n      <div>\n      <a id=\"btLinkIniciar\" className=\"btCinza\" onClick={() => {iniciarGame()}}>Iniciar Game</a>\n      <canvas id=\"canvasGame\" width=\"600\" height=\"600\"></canvas>\n      </div>\n      <div className=\"Controles\">\n        <h3>Controle do personagem AVATAR.</h3>\n        <Div display=\"vertical\">\n        <a id=\"btLinkIniciar\" className=\"btCinza\" onClick={() => {moverPersonagem(1,\"subir\")}}>sobe</a>\n        <Div display=\"justificado\">\n        <a id=\"btLinkIniciar\" className=\"btCinza\" onClick={() => {moverPersonagem(1,\"<-\")}}>esquerda</a>\n        <a id=\"btLinkIniciar\" className=\"btCinza\" onClick={() => {moverPersonagem(1,\"->\")}}>direita</a>\n        </Div>\n        <a id=\"btLinkIniciar\" className=\"btCinza\" onClick={() => {moverPersonagem(1,\"descer\")}}>desce</a>   \n        </Div>\n      </div>\n      <style jsx>{`\n        .Controles{\n          margin: 10px;\n          width: 100%;\n        }\n        .Godzilla {\n          position: absolute;\n        }\n        canvas {\n          border : solid 1px;\n        }\n        .btCinza {\n            padding: 10px;\n            transition: all 0.8s;\n            font-family: oiTextRegular, sans-serif;\n            background-color: #26293c;\n            border-radius: 15px;\n            color: #ffffff;\n            display: block;\n            font-size: 1rem; /*16px*/\n            text-align: center;\n            text-decoration: none;\n            border: solid 2px #4a516b;\n            cursor: pointer;\n            outline: 0;\n            margin-bottom : 10px;\n            box-sizing: border-box;\n            font-style: normal;\n            width: 100%;\n            max-width: 600px;\n          }\n          .btCinza:hover {\n            transition: all 0.8s;\n            -webkit-transition: all 0.8s;\n            -moz-transition: all 0.8s;\n            -o-transition: all 0.8s;\n            /*color: #d82482;*/\n            background-color: #4a516b;\n          }\n      `}</style>\n    </Div>\n  )\n}\n\n// <div className=\"Godzilla\" id=\"position\">\n// <a href=\"#meuLink\" onclick=\"myFunction();\">\n//<img onload=\"mouse();\" alt=\"Fundo\" src=\"https://img-s-msn-com.akamaized.net/tenant/amp/entityid/BBVShEa.img?h=416&amp;w=799&amp;m=6&amp;q=60&amp;u=t&amp;o=f&amp;l=f&amp;x=871&amp;y=654\" width=\"100%\" height=\"100%\" title=\"Cenário de cidades\"></img>\n\nexport default orgEcossistema\n"]},"metadata":{},"sourceType":"module"}