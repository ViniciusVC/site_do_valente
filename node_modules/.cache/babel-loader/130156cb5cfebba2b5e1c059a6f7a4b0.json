{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\n\nvar orgEcossistema = function orgEcossistema(props) {\n  function funcGeraSer(tipo, varPositX, varPositY) {\n    //Retorna os itens do Jogo (ex.: Cenario de fundo, personagens e avatar)\n    if (tipo == \"avatar\") {\n      return {\n        \"tipo\": \"avatar\",\n        \"hierarquia\": 4,\n        \"width\": 20,\n        \"height\": 20,\n        \"x\": varPositX,\n        \"y\": varPositY,\n        \"velocidade\": 3,\n        \"img\": \"https://images.vexels.com/media/users/3/177827/isolated/preview/03cbb4fb0d0318befadf121314e35d40-cabelo-de-monstro-monstro-liso-by-vexels.png\",\n        \"direcao\": \"parado\",\n        \"objetivo\": \"nada\",\n        \"tempo\": 100\n      };\n    } else if (tipo == \"carnivoro\") {\n      return {\n        \"tipo\": \"carnivoro\",\n        \"hierarquia\": 4,\n        \"width\": 20,\n        \"height\": 20,\n        \"x\": varPositX,\n        \"y\": varPositY,\n        \"velocidade\": 3,\n        \"img\": \"https://image.flaticon.com/icons/svg/1236/1236125.svg\",\n        \"direcao\": \"parado\",\n        \"objetivo\": \"nada\",\n        \"tempo\": 1000\n      };\n    } else if (tipo == \"herbivoro\") {\n      return {\n        \"tipo\": \"herbivoro\",\n        \"hierarquia\": 3,\n        \"width\": 20,\n        \"height\": 20,\n        \"x\": varPositX,\n        \"y\": varPositY,\n        \"velocidade\": 4,\n        \"img\": \"https://images.vexels.com/media/users/3/177828/isolated/preview/2cad4138c11ac3e2798bed47b3e21084-monstro-olho-peludo-plano-by-vexels.png\",\n        \"direcao\": \"parado\",\n        \"objetivo\": \"nada\",\n        \"tempo\": 100\n      };\n    } else if (tipo == \"ovo\") {\n      return {\n        \"tipo\": \"ovo\",\n        \"hierarquia\": 2,\n        \"width\": 20,\n        \"height\": 20,\n        \"x\": varPositX,\n        \"y\": varPositY,\n        \"velocidade\": 0,\n        \"img\": \"https://image.flaticon.com/icons/svg/1462/1462011.svg\",\n        \"direcao\": \"parado\",\n        \"objetivo\": \"nada\",\n        \"tempo\": 100\n      };\n    } else if (tipo == \"planta\") {\n      return {\n        \"tipo\": \"planta\",\n        \"hierarquia\": 1,\n        \"width\": 20,\n        \"height\": 20,\n        \"x\": varPositX,\n        \"y\": varPositY,\n        \"velocidade\": 0,\n        \"img\": \"https://image.flaticon.com/icons/png/512/1431/premium/1431933.png\",\n        \"direcao\": \"parado\",\n        \"objetivo\": \"nada\",\n        \"tempo\": 100\n      };\n    } else if (tipo == \"coco\") {\n      return {\n        \"tipo\": \"coco\",\n        \"hierarquia\": 0,\n        \"width\": 20,\n        \"height\": 20,\n        \"x\": varPositX,\n        \"y\": varPositY,\n        \"velocidade\": 0,\n        \"img\": \"https://image.flaticon.com/icons/svg/1642/1642901.svg\",\n        \"direcao\": \"parado\",\n        \"objetivo\": \"nada\",\n        \"tempo\": 100\n      };\n    } else if (tipo == \"cenario\") {\n      return {\n        \"tipo\": \"cenario\",\n        \"hierarquia\": 0,\n        \"width\": 800,\n        \"height\": 600,\n        \"x\": varPositX,\n        \"y\": varPositY,\n        \"velocidade\": 0,\n        \"img\": \"/static/assetsv5/img/game/tanqueclareira.jpg\",\n        \"direcao\": \"parado\",\n        \"objetivo\": \"nada\",\n        \"tempo\": 100\n      };\n    }\n  }\n\n  function comportamento() {\n    //O personagem 0 é o cenário.\n    //O personagem 1 é o avatar.\n    var serA = 2;\n\n    for (serA = 2; serA < personagens.length; serA++) {\n      //for (serA=2; serA < 5; serA++) {\n      if (personagens[serA].tipo == \"carnivoro\" || personagens[serA].tipo == \"herbivoro\") {\n        var serB = 1;\n        var menorDistancia = 0;\n        var distanciaAtual = 0;\n        var melhorDecisao = \"parado\";\n        var serMaisPerto = 1;\n\n        for (serB = 2; serB < personagens.length; serB++) {\n          //for (serB=1; serB < 5; serB++) {\n          console.log('comparando o personagem ' + serA + 'com' + serB + '.');\n          console.log('Personagem A (' + serA + ') é um ' + personagens[serA].tipo + '.');\n          console.log('Personagem B (' + serB + ') é um ' + personagens[serB].tipo + '.');\n\n          if (serA != serB) {\n            personagens[serA].tempo = personagens[serA].tempo - 1;\n\n            if (personagens[serA].tipo == \"carnivoro\") {\n              if (personagens[serA].tempo < 1) {\n                personagens[serA].tipo = \"coco\";\n                personagens[serA].velocidade = 0;\n                personagens[serA].img = \"https://image.flaticon.com/icons/svg/1642/1642901.svg\";\n                personagens[serA].objImg.src = personagens[serA].img;\n                personagens[serA].direcao = \"parado\";\n                personagens[serA].objetivo = \"nada\";\n              } else if (personagens[serB].tipo == \"herbivoro\") {\n                //Caçar\n                distanciaAtual = calDistancia(serA, serB);\n\n                if (menorDistancia < distanciaAtual) {\n                  menorDistancia = distanciaAtual;\n                  melhorDecisao = CalDecisao(serA, serB);\n                  serMaisPerto = serB;\n                }\n              }\n            } else if (personagens[serA].tipo == \"herbivoro\") {\n              if (personagens[serB].tipo == \"planta\") {\n                //Caçar\n                distanciaAtual = calDistancia(serA, serB);\n\n                if (menorDistancia < distanciaAtual) {\n                  menorDistancia = distanciaAtual;\n                  melhorDecisao = CalDecisao(serA, serB);\n                  serMaisPerto = serB;\n                }\n              } else if (personagens[serA].tipo == \"carnivoro\") {\n                //Fugir\n                distanciaAtual = calDistancia(serA, serB);\n\n                if (menorDistancia < distanciaAtual) {\n                  menorDistancia = distanciaAtual;\n                  melhorDecisao = CalDecisao(serB, serA);\n                  serMaisPerto = serB;\n                }\n              }\n            }\n          } //CTX.fillRect(personagens[i].x,personagens[i].y,personagens[i].width,personagens[i++].height);\n\n        } // Fim do FOR B\n\n\n        console.log('Personagem ' + serA + ' está a disanca de ' + menorDistancia + ' do .' + serMaisPerto);\n        console.log('A melhor decisão é ir para ' + melhorDecisao + '.');\n\n        if (melhorDecisao == \"devorou\") {\n          personagens[serMaisPerto].tipo = \"coco\";\n          personagens[serMaisPerto].velocidade = 0;\n          personagens[serMaisPerto].img = \"https://image.flaticon.com/icons/svg/1642/1642901.svg\";\n          personagens[serMaisPerto].objImg.src = personagens[serMaisPerto].img;\n          personagens[serMaisPerto].direcao = \"parado\";\n          personagens[serMaisPerto].objetivo = \"nada\"; //personagens[serMaisPerto]=funcGeraSer(\"coco\",funcLocalInit(),funcLocalInit());\n        }\n\n        moverPersonagem(serA, melhorDecisao);\n      }\n    } // Fim do FOR A\n\n\n    desenharCanvas();\n  }\n\n  function desenharCanvas() {\n    // Desenha os objetos na tela.\n    var CNV = document.getElementById('canvasGame');\n    var CTX = CNV.getContext(\"2d\");\n    var i;\n    console.log('| inicio do FOR | <══════════════════════════════════════');\n\n    for (i = 0; i < personagens.length; i++) {\n      //for (i=0; i < 5; i++) {\n      console.log('i=' + i);\n      console.log('tipo=' + personagens[i].tipo);\n      CTX.drawImage(personagens[i].objImg, personagens[i].x, personagens[i].y, personagens[i].width, personagens[i].height);\n      CTX.font = \"10px Arial\";\n      CTX.fillText(i + '-' + personagens[i].tipo, personagens[i].x + 25, personagens[i].y - 10);\n      CTX.fillText(personagens[i].objetivo, personagens[i].x + 25, personagens[i].y);\n      CTX.fillText(personagens[i].direcao, personagens[i].x + 25, personagens[i].y + 10); //CTX.fillRect(personagens[i].x,personagens[i].y,personagens[i].width,personagens[i++].height);\n    }\n\n    console.log('| fim do FOR | <══════════════════════════════════════');\n  }\n\n  function calDistancia(serA, serB) {\n    var varDistancia = 0;\n\n    if (personagens[serA].x == personagens[serB].x && personagens[serA].y == personagens[serB].y) {\n      varDistancia = 0;\n    } else {\n      if (personagens[serA].x > personagens[serB].x) {\n        //\"-1\"\n        varDistancia = personagens[serA].x - personagens[serB].x;\n      } else if (personagens[serA].x < personagens[serB].x) {\n        //\"+1\"\n        varDistancia = personagens[serA].x + personagens[serB].x;\n      }\n\n      if (personagens[serA].y > personagens[serB].y) {\n        //\"-1\"\n        varDistancia = varDistancia + personagens[serA].y - personagens[serB].y;\n      } else if (personagens[serA].y < personagens[serB].y) {\n        //\"+1\" \n        varDistancia = varDistancia + personagens[serA].y + personagens[serB].y;\n      }\n    }\n\n    return varDistancia;\n  }\n\n  function CalDecisao(serA, serB) {\n    var RetonDecisao = \"parado\";\n    var tamanho = personagens[serA].width / 2;\n\n    if (personagens[serA].x + tamanho > personagens[serB].x && personagens[serA].x - tamanho < personagens[serB].x && personagens[serA].y + tamanho > personagens[serB].y && personagens[serA].y - tamanho < personagens[serB].y) {\n      RetonDecisao = \"devorou\";\n    } else {\n      var sorteio = Math.floor(Math.random() * 2 + 1);\n      console.log('sorteio=' + sorteio);\n\n      if (sorteio == 1) {\n        if (personagens[serA].y > personagens[serB].y) {\n          //\"-1\"\n          RetonDecisao = \"subir\";\n        } else if (personagens[serA].y < personagens[serB].y) {\n          //\"+1\" \n          RetonDecisao = \"descer\";\n        }\n      } else {\n        if (personagens[serA].x > personagens[serB].x) {\n          //\"-1\"\n          RetonDecisao = \"<-\";\n        } else if (personagens[serA].x < personagens[serB].x) {\n          //\"+1\"\n          RetonDecisao = \"->\";\n        }\n      }\n    }\n\n    return RetonDecisao; //personagens[i].width\n    //personagens[i].height\n  }\n\n  function moverPersonagem(personaAtual, varDirecao) {\n    if (varDirecao == \"subir\") {\n      personagens[personaAtual].y = personagens[personaAtual].y - personagens[personaAtual].velocidade;\n    } else if (varDirecao == \"descer\") {\n      personagens[personaAtual].y = personagens[personaAtual].y + personagens[personaAtual].velocidade;\n    } else if (varDirecao == \"<-\") {\n      personagens[personaAtual].x = personagens[personaAtual].x - personagens[personaAtual].velocidade;\n    } else if (varDirecao == \"->\") {\n      personagens[personaAtual].x = personagens[personaAtual].x + personagens[personaAtual].velocidade;\n    }\n\n    personagens[personaAtual].direcao = varDirecao; //alert(\"personaAtual=\"+personaAtual+\"; direcao=\"+direcao+\"; x=\"+personagens[personaAtual].x);\n    //desenharCanvas();\n  }\n\n  function reiniciarGame() {\n    iniciarPersonagens();\n  }\n\n  function iniciarPersonagens() {\n    personagens = [funcGeraSer(\"cenario\", 0, 0), funcGeraSer(\"avatar\", funcLocalInit(), funcLocalInit()), funcGeraSer(\"carnivoro\", funcLocalInit(), funcLocalInit()), funcGeraSer(\"carnivoro\", funcLocalInit(), funcLocalInit()), funcGeraSer(\"herbivoro\", funcLocalInit(), funcLocalInit()), funcGeraSer(\"herbivoro\", funcLocalInit(), funcLocalInit()), funcGeraSer(\"herbivoro\", funcLocalInit(), funcLocalInit()), funcGeraSer(\"ovo\", funcLocalInit(), funcLocalInit()), funcGeraSer(\"ovo\", funcLocalInit(), funcLocalInit()), funcGeraSer(\"planta\", funcLocalInit(), funcLocalInit()), funcGeraSer(\"planta\", funcLocalInit(), funcLocalInit()), funcGeraSer(\"planta\", funcLocalInit(), funcLocalInit()), funcGeraSer(\"coco\", funcLocalInit(), funcLocalInit())];\n    var i = 0;\n\n    for (i = 0; i < personagens.length; i++) {\n      //for (i=0; i < 5; i++) {\n      personagens[i].objImg = new Image();\n      personagens[i].objImg.src = personagens[i].img;\n    }\n  }\n\n  function iniciarGame() {\n    iniciarPersonagens();\n    window.addEventListener(\"keydown\", function (event) {\n      console.log('| Digitou algo | <══════════════════════════════════════');\n      var varKeyCode = event.keyCode;\n      var varKey = event.key; // var varsaida = \"keydown => \";\n      // if (event.defaultPrevented) {\n      //   varsaida += \"; event.defaultPrevented=\" + event.defaultPrevented\n      //   //return; // Should do nothing if the default action has been cancelled\n      // }\n      //var handled = false;\n\n      if (varKeyCode !== undefined) {\n        console.log(\"varKeyCode !== undefined\");\n        console.log(\"varKeyCode=\" + varKeyCode);\n        console.log(\"varKey=\" + varKey); // varsaida += \"; event.keyCode=\" + event.keyCode;\n        // //Manipule o evento com KeyboardEvent.keyCode e defina handled true.\n\n        var evento = \"parar\";\n\n        if (varKeyCode == \"38\" || varKeyCode == 38 || varKey == \"ArrowUp\") {\n          evento = \"subir\";\n        } else if (varKeyCode == \"40\" || varKeyCode == 40 || varKey == \"ArrowUp\") {\n          evento = \"descer\";\n        } else if (varKeyCode == \"37\" || varKeyCode == 47 || varKey == \"ArrowLeft\") {\n          evento = \"<-\";\n        } else if (varKeyCode == \"39\" || varKeyCode == 39 || varKey == \"ArrowRight\") {\n          evento = \"->\";\n        }\n\n        console.log('evento = ' + evento);\n        ultimaTecla = evento;\n        moverPersonagem(1, evento);\n      } else {\n        console.log(\"varKeyCode == undefined\");\n        alert(\"varKeyCode == undefined\");\n      } //comportamento();\n\n    }, true);\n    desenharCanvas();\n    relogio = setInterval(comportamento, 50);\n  }\n\n  function funcLocalInit() {\n    return Math.floor(Math.random() * 500 + 1); //return 50;\n  }\n\n  var relogio;\n  var personagens = [];\n  var ultimaTecla = \"parar\"; // function mouse(e){\n  //   var xcurs = 0;\n  //   var ycurs = 0;\n  // \tif (navigator.appName == 'Netscape'){\n  // \t\txcurs = e.pageX;\n  // \t\tycurs = e.pageY;\n  // \t} else {\n  // \t\txcurs = event.clientX;\n  // \t\tycurs = event.clientY;\n  //   }\n  // \txcurs=xcurs-190\n  // \tycurs=ycurs-200\n  //   if(xcurs>100){\n  //     document.getElementById('Godzilla').style.left = xcurs+'px';\n  //   }\n  // \tif(ycurs>200){\n  //     document.getElementById('Godzilla').style.top = ycurs+'px';\n  //     document.getElementById('mostro').width = (200+ycurs) \n  //     document.getElementById('mostro').height= (100+ycurs)\n  //   }\n  // }\n  // function AlteraPersonagem(){=\n  //   document.onmousemove=mouse;\n  //   if(document.getElementById('mostro').alert==\"godzilla2\"){\n  //     document.getElementById('mostro').src = '/static/assetsv5/img/game/godzilla1.gif'; \n  //     document.getElementById('mostro').alert=\"godzilla1\"\n  //     //document.getElementById('mostro').class=\"Godzilla\"\n  // \t}else{\n  //     document.getElementById('mostro').src = '/static/assetsv5/img/game/trex.png'; \n  //     document.getElementById('mostro').alert=\"godzilla2\"\n  //     //document.getElementById('mostro').class = \"esquerda\";\n  // \t}\n  // }\n\n  return React.createElement(\"div\", {\n    className: \"jsx-2811717811\"\n  }, React.createElement(\"a\", {\n    id: \"btLinkIniciar\",\n    onClick: function onClick() {\n      iniciarGame();\n    },\n    className: \"jsx-2811717811\" + \" \" + \"btCinza\"\n  }, \"Iniciar Game\"), React.createElement(\"a\", {\n    id: \"btLinkIniciar\",\n    onClick: function onClick() {\n      reiniciarGame();\n    },\n    className: \"jsx-2811717811\" + \" \" + \"btCinza\"\n  }, \"Reiniciar Game\"), React.createElement(\"canvas\", {\n    id: \"canvasGame\",\n    width: \"600\",\n    height: \"600\",\n    className: \"jsx-2811717811\"\n  }), React.createElement(_JSXStyle, {\n    id: \"2811717811\"\n  }, \".Godzilla.jsx-2811717811{position:absolute;}canvas.jsx-2811717811{border :solid 1px;}.btCinza.jsx-2811717811{padding:10px;-webkit-transition:all 0.8s;transition:all 0.8s;font-family:oiTextRegular,sans-serif;background-color:#26293c;border-radius:15px;color:#ffffff;display:block;font-size:1rem;text-align:center;-webkit-text-decoration:none;text-decoration:none;border:solid 2px #4a516b;cursor:pointer;outline:0;margin:0;box-sizing:border-box;font-style:normal;width:100%;max-width:500px;}.btCinza.jsx-2811717811:hover{-webkit-transition:all 0.8s;transition:all 0.8s;-webkit-transition:all 0.8s;-moz-transition:all 0.8s;-o-transition:all 0.8s;background-color:#4a516b;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL29pNDAyODI1L0RvY3VtZW50b3MvUHJvamV0b3Mvc2l0ZV9kb192YWxlbnRlL2NvbXBvbmVudHMvb3JnYW5pc21zL29yZ0Vjb3NzaXN0ZW1hL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTZaa0IsQUFHNkIsQUFJQSxBQUdILEFBcUJPLGFBcEJBLEtBTnhCLEFBR0EsOEJBd0JnQyxhQXBCVSxlQXFCYixzQkFwQkEsR0FxQkYsc0JBcEJKLENBc0JNLGtCQXJCWCxPQXNCaEIsT0FyQmdCLGNBQ0MsZUFDRyxrQkFFRyxrREFDSSx5QkFDVixlQUNMLFVBQ0QsU0FDYSxzQkFDSixrQkFDUCxXQUNLLGdCQUNsQiIsImZpbGUiOiIvaG9tZS9vaTQwMjgyNS9Eb2N1bWVudG9zL1Byb2pldG9zL3NpdGVfZG9fdmFsZW50ZS9jb21wb25lbnRzL29yZ2FuaXNtcy9vcmdFY29zc2lzdGVtYS9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuXG5cbmNvbnN0IG9yZ0Vjb3NzaXN0ZW1hID0gZnVuY3Rpb24gKHByb3BzKSB7XG5cblxuICBmdW5jdGlvbiBmdW5jR2VyYVNlcih0aXBvLHZhclBvc2l0WCx2YXJQb3NpdFkpe1xuICAgIC8vUmV0b3JuYSBvcyBpdGVucyBkbyBKb2dvIChleC46IENlbmFyaW8gZGUgZnVuZG8sIHBlcnNvbmFnZW5zIGUgYXZhdGFyKVxuICAgIGlmKHRpcG89PVwiYXZhdGFyXCIpe1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgXCJ0aXBvXCI6XCJhdmF0YXJcIixcbiAgICAgICAgXCJoaWVyYXJxdWlhXCI6NCxcbiAgICAgICAgXCJ3aWR0aFwiOiAyMCxcbiAgICAgICAgXCJoZWlnaHRcIjogMjAsXG4gICAgICAgIFwieFwiOnZhclBvc2l0WCxcbiAgICAgICAgXCJ5XCI6dmFyUG9zaXRZLFxuICAgICAgICBcInZlbG9jaWRhZGVcIjozLFxuICAgICAgICBcImltZ1wiOlwiaHR0cHM6Ly9pbWFnZXMudmV4ZWxzLmNvbS9tZWRpYS91c2Vycy8zLzE3NzgyNy9pc29sYXRlZC9wcmV2aWV3LzAzY2JiNGZiMGQwMzE4YmVmYWRmMTIxMzE0ZTM1ZDQwLWNhYmVsby1kZS1tb25zdHJvLW1vbnN0cm8tbGlzby1ieS12ZXhlbHMucG5nXCIsXG4gICAgICAgIFwiZGlyZWNhb1wiOlwicGFyYWRvXCIsXG4gICAgICAgIFwib2JqZXRpdm9cIjpcIm5hZGFcIixcbiAgICAgICAgXCJ0ZW1wb1wiOjEwMFxuICAgICAgfVxuICAgIH1lbHNlIGlmKHRpcG89PVwiY2Fybml2b3JvXCIpe1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgXCJ0aXBvXCI6XCJjYXJuaXZvcm9cIixcbiAgICAgICAgXCJoaWVyYXJxdWlhXCI6NCxcbiAgICAgICAgXCJ3aWR0aFwiOiAyMCxcbiAgICAgICAgXCJoZWlnaHRcIjogMjAsXG4gICAgICAgIFwieFwiOnZhclBvc2l0WCxcbiAgICAgICAgXCJ5XCI6dmFyUG9zaXRZLFxuICAgICAgICBcInZlbG9jaWRhZGVcIjozLFxuICAgICAgICBcImltZ1wiOlwiaHR0cHM6Ly9pbWFnZS5mbGF0aWNvbi5jb20vaWNvbnMvc3ZnLzEyMzYvMTIzNjEyNS5zdmdcIixcbiAgICAgICAgXCJkaXJlY2FvXCI6XCJwYXJhZG9cIixcbiAgICAgICAgXCJvYmpldGl2b1wiOlwibmFkYVwiLFxuICAgICAgICBcInRlbXBvXCI6MTAwMFxuICAgICAgfVxuICAgIH1lbHNlIGlmKHRpcG89PVwiaGVyYml2b3JvXCIpe1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgXCJ0aXBvXCI6XCJoZXJiaXZvcm9cIixcbiAgICAgICAgXCJoaWVyYXJxdWlhXCI6MyxcbiAgICAgICAgXCJ3aWR0aFwiOiAyMCwgICAgICBcbiAgICAgICAgXCJoZWlnaHRcIjogMjAsXG4gICAgICAgIFwieFwiOnZhclBvc2l0WCxcbiAgICAgICAgXCJ5XCI6dmFyUG9zaXRZLFxuICAgICAgICBcInZlbG9jaWRhZGVcIjo0LFxuICAgICAgICBcImltZ1wiOlwiaHR0cHM6Ly9pbWFnZXMudmV4ZWxzLmNvbS9tZWRpYS91c2Vycy8zLzE3NzgyOC9pc29sYXRlZC9wcmV2aWV3LzJjYWQ0MTM4YzExYWMzZTI3OThiZWQ0N2IzZTIxMDg0LW1vbnN0cm8tb2xoby1wZWx1ZG8tcGxhbm8tYnktdmV4ZWxzLnBuZ1wiLFxuICAgICAgICBcImRpcmVjYW9cIjpcInBhcmFkb1wiLFxuICAgICAgICBcIm9iamV0aXZvXCI6XCJuYWRhXCIsXG4gICAgICAgIFwidGVtcG9cIjoxMDBcbiAgICAgIH1cbiAgICB9ZWxzZSBpZih0aXBvPT1cIm92b1wiKXtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIFwidGlwb1wiOlwib3ZvXCIsXG4gICAgICAgIFwiaGllcmFycXVpYVwiOjIsXG4gICAgICAgIFwid2lkdGhcIjogMjAsXG4gICAgICAgIFwiaGVpZ2h0XCI6IDIwLFxuICAgICAgICBcInhcIjp2YXJQb3NpdFgsXG4gICAgICAgIFwieVwiOnZhclBvc2l0WSxcbiAgICAgICAgXCJ2ZWxvY2lkYWRlXCI6MCxcbiAgICAgICAgXCJpbWdcIjpcImh0dHBzOi8vaW1hZ2UuZmxhdGljb24uY29tL2ljb25zL3N2Zy8xNDYyLzE0NjIwMTEuc3ZnXCIsXG4gICAgICAgIFwiZGlyZWNhb1wiOlwicGFyYWRvXCIsXG4gICAgICAgIFwib2JqZXRpdm9cIjpcIm5hZGFcIixcbiAgICAgICAgXCJ0ZW1wb1wiOjEwMFxuICAgICAgfVxuICAgIH1lbHNlIGlmKHRpcG89PVwicGxhbnRhXCIpe1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgXCJ0aXBvXCI6XCJwbGFudGFcIixcbiAgICAgICAgXCJoaWVyYXJxdWlhXCI6MSxcbiAgICAgICAgXCJ3aWR0aFwiOiAyMCxcbiAgICAgICAgXCJoZWlnaHRcIjogMjAsXG4gICAgICAgIFwieFwiOnZhclBvc2l0WCxcbiAgICAgICAgXCJ5XCI6dmFyUG9zaXRZLFxuICAgICAgICBcInZlbG9jaWRhZGVcIjowLFxuICAgICAgICBcImltZ1wiOlwiaHR0cHM6Ly9pbWFnZS5mbGF0aWNvbi5jb20vaWNvbnMvcG5nLzUxMi8xNDMxL3ByZW1pdW0vMTQzMTkzMy5wbmdcIixcbiAgICAgICAgXCJkaXJlY2FvXCI6XCJwYXJhZG9cIixcbiAgICAgICAgXCJvYmpldGl2b1wiOlwibmFkYVwiLFxuICAgICAgICBcInRlbXBvXCI6MTAwXG4gICAgICB9XG4gICAgfWVsc2UgaWYodGlwbz09XCJjb2NvXCIpe1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgXCJ0aXBvXCI6XCJjb2NvXCIsXG4gICAgICAgIFwiaGllcmFycXVpYVwiOjAsXG4gICAgICAgIFwid2lkdGhcIjogMjAsXG4gICAgICAgIFwiaGVpZ2h0XCI6IDIwLFxuICAgICAgICBcInhcIjp2YXJQb3NpdFgsXG4gICAgICAgIFwieVwiOnZhclBvc2l0WSxcbiAgICAgICAgXCJ2ZWxvY2lkYWRlXCI6MCxcbiAgICAgICAgXCJpbWdcIjpcImh0dHBzOi8vaW1hZ2UuZmxhdGljb24uY29tL2ljb25zL3N2Zy8xNjQyLzE2NDI5MDEuc3ZnXCIsXG4gICAgICAgIFwiZGlyZWNhb1wiOlwicGFyYWRvXCIsXG4gICAgICAgIFwib2JqZXRpdm9cIjpcIm5hZGFcIixcbiAgICAgICAgXCJ0ZW1wb1wiOjEwMFxuICAgICAgfSAgXG4gICAgfWVsc2UgaWYodGlwbz09XCJjZW5hcmlvXCIpe1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgXCJ0aXBvXCI6XCJjZW5hcmlvXCIsXG4gICAgICAgIFwiaGllcmFycXVpYVwiOjAsXG4gICAgICAgIFwid2lkdGhcIjogODAwLFxuICAgICAgICBcImhlaWdodFwiOiA2MDAsXG4gICAgICAgIFwieFwiOnZhclBvc2l0WCxcbiAgICAgICAgXCJ5XCI6dmFyUG9zaXRZLFxuICAgICAgICBcInZlbG9jaWRhZGVcIjowLFxuICAgICAgICBcImltZ1wiOlwiL3N0YXRpYy9hc3NldHN2NS9pbWcvZ2FtZS90YW5xdWVjbGFyZWlyYS5qcGdcIixcbiAgICAgICAgXCJkaXJlY2FvXCI6XCJwYXJhZG9cIixcbiAgICAgICAgXCJvYmpldGl2b1wiOlwibmFkYVwiLFxuICAgICAgICBcInRlbXBvXCI6MTAwXG4gICAgICB9ICBcbiAgICB9XG4gIH0gXG5cblxuXG4gIGZ1bmN0aW9uIGNvbXBvcnRhbWVudG8oKXtcbiAgICAvL08gcGVyc29uYWdlbSAwIMOpIG8gY2Vuw6FyaW8uXG4gICAgLy9PIHBlcnNvbmFnZW0gMSDDqSBvIGF2YXRhci5cbiAgICB2YXIgc2VyQSA9IDJcbiAgICBmb3IgKHNlckE9Mjsgc2VyQSA8IHBlcnNvbmFnZW5zLmxlbmd0aDsgc2VyQSsrKSB7XG4gICAgLy9mb3IgKHNlckE9Mjsgc2VyQSA8IDU7IHNlckErKykge1xuICAgICAgaWYocGVyc29uYWdlbnNbc2VyQV0udGlwbz09XCJjYXJuaXZvcm9cInx8cGVyc29uYWdlbnNbc2VyQV0udGlwbz09XCJoZXJiaXZvcm9cIil7XG4gICAgICAgIHZhciBzZXJCID0gMVxuICAgICAgICB2YXIgbWVub3JEaXN0YW5jaWEgPSAwO1xuICAgICAgICB2YXIgZGlzdGFuY2lhQXR1YWwgPSAwO1xuICAgICAgICB2YXIgbWVsaG9yRGVjaXNhbz1cInBhcmFkb1wiO1xuICAgICAgICB2YXIgc2VyTWFpc1BlcnRvPTE7XG4gICAgICAgIGZvciAoc2VyQj0yOyBzZXJCIDwgcGVyc29uYWdlbnMubGVuZ3RoOyBzZXJCKyspIHtcbiAgICAgICAgLy9mb3IgKHNlckI9MTsgc2VyQiA8IDU7IHNlckIrKykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdjb21wYXJhbmRvIG8gcGVyc29uYWdlbSAnK3NlckErICdjb20nICtzZXJCKyAnLicpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdQZXJzb25hZ2VtIEEgKCcrc2VyQSsnKSDDqSB1bSAnK3BlcnNvbmFnZW5zW3NlckFdLnRpcG8rJy4nKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnUGVyc29uYWdlbSBCICgnK3NlckIrJykgw6kgdW0gJytwZXJzb25hZ2Vuc1tzZXJCXS50aXBvKycuJyk7XG4gICAgICAgICAgaWYoc2VyQSE9c2VyQil7XG4gICAgICAgICAgICAgIHBlcnNvbmFnZW5zW3NlckFdLnRlbXBvPXBlcnNvbmFnZW5zW3NlckFdLnRlbXBvLTE7XG4gICAgICAgICAgICAgIGlmKHBlcnNvbmFnZW5zW3NlckFdLnRpcG89PVwiY2Fybml2b3JvXCIpe1xuICAgICAgICAgICAgICAgICAgaWYocGVyc29uYWdlbnNbc2VyQV0udGVtcG88MSl7XG4gICAgICAgICAgICAgICAgICAgIHBlcnNvbmFnZW5zW3NlckFdLnRpcG89XCJjb2NvXCJcbiAgICAgICAgICAgICAgICAgICAgcGVyc29uYWdlbnNbc2VyQV0udmVsb2NpZGFkZT0wXG4gICAgICAgICAgICAgICAgICAgIHBlcnNvbmFnZW5zW3NlckFdLmltZz1cImh0dHBzOi8vaW1hZ2UuZmxhdGljb24uY29tL2ljb25zL3N2Zy8xNjQyLzE2NDI5MDEuc3ZnXCJcbiAgICAgICAgICAgICAgICAgICAgcGVyc29uYWdlbnNbc2VyQV0ub2JqSW1nLnNyYyA9IHBlcnNvbmFnZW5zW3NlckFdLmltZztcbiAgICAgICAgICAgICAgICAgICAgcGVyc29uYWdlbnNbc2VyQV0uZGlyZWNhbz1cInBhcmFkb1wiXG4gICAgICAgICAgICAgICAgICAgIHBlcnNvbmFnZW5zW3NlckFdLm9iamV0aXZvPVwibmFkYVwiXG4gICAgICAgICAgICAgICAgICB9ZWxzZSBpZihwZXJzb25hZ2Vuc1tzZXJCXS50aXBvPT1cImhlcmJpdm9yb1wiKXtcbiAgICAgICAgICAgICAgICAgICAgICAvL0Nhw6dhclxuICAgICAgICAgICAgICAgICAgICAgIGRpc3RhbmNpYUF0dWFsID0gY2FsRGlzdGFuY2lhKHNlckEsc2VyQilcbiAgICAgICAgICAgICAgICAgICAgICBpZihtZW5vckRpc3RhbmNpYTxkaXN0YW5jaWFBdHVhbCl7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtZW5vckRpc3RhbmNpYT1kaXN0YW5jaWFBdHVhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWVsaG9yRGVjaXNhbz1DYWxEZWNpc2FvKHNlckEsc2VyQik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlck1haXNQZXJ0bz1zZXJCO1xuICAgICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1lbHNlIGlmKHBlcnNvbmFnZW5zW3NlckFdLnRpcG89PVwiaGVyYml2b3JvXCIpe1xuICAgICAgICAgICAgICAgICAgaWYocGVyc29uYWdlbnNbc2VyQl0udGlwbz09XCJwbGFudGFcIil7XG4gICAgICAgICAgICAgICAgICAgICAgLy9DYcOnYXJcbiAgICAgICAgICAgICAgICAgICAgICBkaXN0YW5jaWFBdHVhbCA9IGNhbERpc3RhbmNpYShzZXJBLHNlckIpXG4gICAgICAgICAgICAgICAgICAgICAgaWYobWVub3JEaXN0YW5jaWE8ZGlzdGFuY2lhQXR1YWwpeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWVub3JEaXN0YW5jaWE9ZGlzdGFuY2lhQXR1YWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1lbGhvckRlY2lzYW89Q2FsRGVjaXNhbyhzZXJBLHNlckIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJNYWlzUGVydG89c2VyQjtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9ZWxzZSBpZihwZXJzb25hZ2Vuc1tzZXJBXS50aXBvPT1cImNhcm5pdm9yb1wiKXtcbiAgICAgICAgICAgICAgICAgICAgICAvL0Z1Z2lyXG4gICAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2lhQXR1YWwgPSBjYWxEaXN0YW5jaWEoc2VyQSxzZXJCKVxuICAgICAgICAgICAgICAgICAgICAgIGlmKG1lbm9yRGlzdGFuY2lhPGRpc3RhbmNpYUF0dWFsKXsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1lbm9yRGlzdGFuY2lhPWRpc3RhbmNpYUF0dWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtZWxob3JEZWNpc2FvPUNhbERlY2lzYW8oc2VyQixzZXJBKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VyTWFpc1BlcnRvPXNlckI7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy9DVFguZmlsbFJlY3QocGVyc29uYWdlbnNbaV0ueCxwZXJzb25hZ2Vuc1tpXS55LHBlcnNvbmFnZW5zW2ldLndpZHRoLHBlcnNvbmFnZW5zW2krK10uaGVpZ2h0KTtcbiAgICAgICAgfSAvLyBGaW0gZG8gRk9SIEJcbiAgICAgICAgY29uc29sZS5sb2coJ1BlcnNvbmFnZW0gJytzZXJBKycgZXN0w6EgYSBkaXNhbmNhIGRlICcgKyBtZW5vckRpc3RhbmNpYSArICcgZG8gLicgKyBzZXJNYWlzUGVydG8pO1xuICAgICAgICBjb25zb2xlLmxvZygnQSBtZWxob3IgZGVjaXPDo28gw6kgaXIgcGFyYSAnKyBtZWxob3JEZWNpc2FvICsnLicpO1xuICAgICAgICBcbiAgICAgICAgaWYobWVsaG9yRGVjaXNhbz09XCJkZXZvcm91XCIpe1xuICAgICAgICAgIHBlcnNvbmFnZW5zW3Nlck1haXNQZXJ0b10udGlwbz1cImNvY29cIlxuICAgICAgICAgIHBlcnNvbmFnZW5zW3Nlck1haXNQZXJ0b10udmVsb2NpZGFkZT0wXG4gICAgICAgICAgcGVyc29uYWdlbnNbc2VyTWFpc1BlcnRvXS5pbWc9XCJodHRwczovL2ltYWdlLmZsYXRpY29uLmNvbS9pY29ucy9zdmcvMTY0Mi8xNjQyOTAxLnN2Z1wiXG4gICAgICAgICAgcGVyc29uYWdlbnNbc2VyTWFpc1BlcnRvXS5vYmpJbWcuc3JjID0gcGVyc29uYWdlbnNbc2VyTWFpc1BlcnRvXS5pbWc7XG4gICAgICAgICAgcGVyc29uYWdlbnNbc2VyTWFpc1BlcnRvXS5kaXJlY2FvPVwicGFyYWRvXCJcbiAgICAgICAgICBwZXJzb25hZ2Vuc1tzZXJNYWlzUGVydG9dLm9iamV0aXZvPVwibmFkYVwiXG4gICAgICAgICAgLy9wZXJzb25hZ2Vuc1tzZXJNYWlzUGVydG9dPWZ1bmNHZXJhU2VyKFwiY29jb1wiLGZ1bmNMb2NhbEluaXQoKSxmdW5jTG9jYWxJbml0KCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbW92ZXJQZXJzb25hZ2VtKHNlckEsIG1lbGhvckRlY2lzYW8pO1xuICAgICAgfVxuICAgIH0gLy8gRmltIGRvIEZPUiBBXG4gICAgZGVzZW5oYXJDYW52YXMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc2VuaGFyQ2FudmFzKCl7XG4gICAgLy8gRGVzZW5oYSBvcyBvYmpldG9zIG5hIHRlbGEuXG4gICAgdmFyIENOViA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXNHYW1lJylcbiAgICB2YXIgQ1RYID0gQ05WLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICB2YXIgaTtcbiAgICBjb25zb2xlLmxvZygnfCBpbmljaW8gZG8gRk9SIHwgPOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCcpO1xuICAgIGZvciAoaT0wOyBpIDwgcGVyc29uYWdlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAvL2ZvciAoaT0wOyBpIDwgNTsgaSsrKSB7XG4gICAgICBjb25zb2xlLmxvZygnaT0nK2kpO1xuICAgICAgY29uc29sZS5sb2coJ3RpcG89JytwZXJzb25hZ2Vuc1tpXS50aXBvKTtcbiAgICAgIENUWC5kcmF3SW1hZ2UocGVyc29uYWdlbnNbaV0ub2JqSW1nLCBwZXJzb25hZ2Vuc1tpXS54LHBlcnNvbmFnZW5zW2ldLnkscGVyc29uYWdlbnNbaV0ud2lkdGgscGVyc29uYWdlbnNbaV0uaGVpZ2h0KTsgIFxuICAgICAgQ1RYLmZvbnQgPSBcIjEwcHggQXJpYWxcIjtcbiAgICAgIENUWC5maWxsVGV4dChpKyctJytwZXJzb25hZ2Vuc1tpXS50aXBvLCBwZXJzb25hZ2Vuc1tpXS54KzI1LHBlcnNvbmFnZW5zW2ldLnktMTApO1xuICAgICAgQ1RYLmZpbGxUZXh0KHBlcnNvbmFnZW5zW2ldLm9iamV0aXZvLCBwZXJzb25hZ2Vuc1tpXS54KzI1LHBlcnNvbmFnZW5zW2ldLnkpO1xuICAgICAgQ1RYLmZpbGxUZXh0KHBlcnNvbmFnZW5zW2ldLmRpcmVjYW8sIHBlcnNvbmFnZW5zW2ldLngrMjUscGVyc29uYWdlbnNbaV0ueSsxMCk7XG4gICAgICAvL0NUWC5maWxsUmVjdChwZXJzb25hZ2Vuc1tpXS54LHBlcnNvbmFnZW5zW2ldLnkscGVyc29uYWdlbnNbaV0ud2lkdGgscGVyc29uYWdlbnNbaSsrXS5oZWlnaHQpO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZygnfCBmaW0gZG8gRk9SIHwgPOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCcpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FsRGlzdGFuY2lhKHNlckEsc2VyQil7XG4gICAgdmFyIHZhckRpc3RhbmNpYSA9IDA7XG4gICAgaWYocGVyc29uYWdlbnNbc2VyQV0ueD09cGVyc29uYWdlbnNbc2VyQl0ueCYmcGVyc29uYWdlbnNbc2VyQV0ueT09cGVyc29uYWdlbnNbc2VyQl0ueSl7XG4gICAgICB2YXJEaXN0YW5jaWEgPSAwO1xuICAgIH1lbHNle1xuICAgICAgXG4gICAgICBpZihwZXJzb25hZ2Vuc1tzZXJBXS54PnBlcnNvbmFnZW5zW3NlckJdLngpe1xuICAgICAgICAvL1wiLTFcIlxuICAgICAgICB2YXJEaXN0YW5jaWEgPSBwZXJzb25hZ2Vuc1tzZXJBXS54LXBlcnNvbmFnZW5zW3NlckJdLnhcbiAgICAgIH1lbHNlIGlmIChwZXJzb25hZ2Vuc1tzZXJBXS54PHBlcnNvbmFnZW5zW3NlckJdLngpe1xuICAgICAgICAvL1wiKzFcIlxuICAgICAgICB2YXJEaXN0YW5jaWEgPSBwZXJzb25hZ2Vuc1tzZXJBXS54K3BlcnNvbmFnZW5zW3NlckJdLnhcbiAgICAgIH1cbiAgICAgIGlmKHBlcnNvbmFnZW5zW3NlckFdLnk+cGVyc29uYWdlbnNbc2VyQl0ueSl7XG4gICAgICAgIC8vXCItMVwiXG4gICAgICAgIHZhckRpc3RhbmNpYSA9IHZhckRpc3RhbmNpYSArIHBlcnNvbmFnZW5zW3NlckFdLnktcGVyc29uYWdlbnNbc2VyQl0ueVxuICAgICAgfWVsc2UgaWYgKHBlcnNvbmFnZW5zW3NlckFdLnk8cGVyc29uYWdlbnNbc2VyQl0ueSl7XG4gICAgICAgIC8vXCIrMVwiIFxuICAgICAgICB2YXJEaXN0YW5jaWEgPSB2YXJEaXN0YW5jaWEgKyBwZXJzb25hZ2Vuc1tzZXJBXS55K3BlcnNvbmFnZW5zW3NlckJdLnlcbiAgICAgIH1cblxuICAgIH1cbiAgICByZXR1cm4gdmFyRGlzdGFuY2lhXG4gIH1cblxuICBmdW5jdGlvbiBDYWxEZWNpc2FvKHNlckEsc2VyQil7XG4gICAgdmFyIFJldG9uRGVjaXNhbyA9IFwicGFyYWRvXCJcbiAgICB2YXIgdGFtYW5obyA9IHBlcnNvbmFnZW5zW3NlckFdLndpZHRoIC8gMlxuICAgIGlmKChwZXJzb25hZ2Vuc1tzZXJBXS54K3RhbWFuaG8+cGVyc29uYWdlbnNbc2VyQl0ueCYmcGVyc29uYWdlbnNbc2VyQV0ueC10YW1hbmhvPHBlcnNvbmFnZW5zW3NlckJdLngpJiYocGVyc29uYWdlbnNbc2VyQV0ueSt0YW1hbmhvPnBlcnNvbmFnZW5zW3NlckJdLnkmJnBlcnNvbmFnZW5zW3NlckFdLnktdGFtYW5obzxwZXJzb25hZ2Vuc1tzZXJCXS55KSl7XG4gICAgICBSZXRvbkRlY2lzYW8gPSBcImRldm9yb3VcIjsgIFxuICAgIH1lbHNle1xuICAgICAgdmFyIHNvcnRlaW8gPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogMikgKyAxKTtcbiAgICAgIGNvbnNvbGUubG9nKCdzb3J0ZWlvPScrc29ydGVpbyk7XG4gICAgICBpZihzb3J0ZWlvPT0xKXtcbiAgICAgICAgaWYocGVyc29uYWdlbnNbc2VyQV0ueT5wZXJzb25hZ2Vuc1tzZXJCXS55KXtcbiAgICAgICAgICAvL1wiLTFcIlxuICAgICAgICAgIFJldG9uRGVjaXNhbyA9IFwic3ViaXJcIjtcbiAgICAgICAgfWVsc2UgaWYgKHBlcnNvbmFnZW5zW3NlckFdLnk8cGVyc29uYWdlbnNbc2VyQl0ueSl7XG4gICAgICAgICAgLy9cIisxXCIgXG4gICAgICAgICAgUmV0b25EZWNpc2FvID0gXCJkZXNjZXJcIjtcbiAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgIGlmKHBlcnNvbmFnZW5zW3NlckFdLng+cGVyc29uYWdlbnNbc2VyQl0ueCl7XG4gICAgICAgICAgLy9cIi0xXCJcbiAgICAgICAgICBSZXRvbkRlY2lzYW8gPSBcIjwtXCI7XG4gICAgICAgIH1lbHNlIGlmIChwZXJzb25hZ2Vuc1tzZXJBXS54PHBlcnNvbmFnZW5zW3NlckJdLngpe1xuICAgICAgICAgIC8vXCIrMVwiXG4gICAgICAgICAgUmV0b25EZWNpc2FvID0gXCItPlwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBSZXRvbkRlY2lzYW9cbiAgICAvL3BlcnNvbmFnZW5zW2ldLndpZHRoXG4gICAgLy9wZXJzb25hZ2Vuc1tpXS5oZWlnaHRcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdmVyUGVyc29uYWdlbShwZXJzb25hQXR1YWwsdmFyRGlyZWNhbyl7XG4gICAgaWYodmFyRGlyZWNhbz09XCJzdWJpclwiKXtcbiAgICAgIHBlcnNvbmFnZW5zW3BlcnNvbmFBdHVhbF0ueSA9IHBlcnNvbmFnZW5zW3BlcnNvbmFBdHVhbF0ueSAtIHBlcnNvbmFnZW5zW3BlcnNvbmFBdHVhbF0udmVsb2NpZGFkZVxuICAgIH0gZWxzZSBpZih2YXJEaXJlY2FvPT1cImRlc2NlclwiKXtcbiAgICAgIHBlcnNvbmFnZW5zW3BlcnNvbmFBdHVhbF0ueSA9IHBlcnNvbmFnZW5zW3BlcnNvbmFBdHVhbF0ueSArIHBlcnNvbmFnZW5zW3BlcnNvbmFBdHVhbF0udmVsb2NpZGFkZVxuICAgIH0gZWxzZSBpZih2YXJEaXJlY2FvPT1cIjwtXCIpe1xuICAgICAgcGVyc29uYWdlbnNbcGVyc29uYUF0dWFsXS54ID0gcGVyc29uYWdlbnNbcGVyc29uYUF0dWFsXS54IC0gcGVyc29uYWdlbnNbcGVyc29uYUF0dWFsXS52ZWxvY2lkYWRlXG4gICAgfSBlbHNlIGlmKHZhckRpcmVjYW89PVwiLT5cIil7XG4gICAgICBwZXJzb25hZ2Vuc1twZXJzb25hQXR1YWxdLnggPSBwZXJzb25hZ2Vuc1twZXJzb25hQXR1YWxdLnggKyBwZXJzb25hZ2Vuc1twZXJzb25hQXR1YWxdLnZlbG9jaWRhZGVcbiAgICB9IFxuICAgIHBlcnNvbmFnZW5zW3BlcnNvbmFBdHVhbF0uZGlyZWNhbyA9IHZhckRpcmVjYW87XG4gICAgLy9hbGVydChcInBlcnNvbmFBdHVhbD1cIitwZXJzb25hQXR1YWwrXCI7IGRpcmVjYW89XCIrZGlyZWNhbytcIjsgeD1cIitwZXJzb25hZ2Vuc1twZXJzb25hQXR1YWxdLngpO1xuICAgIC8vZGVzZW5oYXJDYW52YXMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlaW5pY2lhckdhbWUoKXtcbiAgICBpbmljaWFyUGVyc29uYWdlbnMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaWNpYXJQZXJzb25hZ2Vucygpe1xuICAgIHBlcnNvbmFnZW5zID0gW2Z1bmNHZXJhU2VyKFwiY2VuYXJpb1wiLDAsMCksXG4gICAgZnVuY0dlcmFTZXIoXCJhdmF0YXJcIixmdW5jTG9jYWxJbml0KCksZnVuY0xvY2FsSW5pdCgpKSxcbiAgICBmdW5jR2VyYVNlcihcImNhcm5pdm9yb1wiLGZ1bmNMb2NhbEluaXQoKSxmdW5jTG9jYWxJbml0KCkpLFxuICAgIGZ1bmNHZXJhU2VyKFwiY2Fybml2b3JvXCIsZnVuY0xvY2FsSW5pdCgpLGZ1bmNMb2NhbEluaXQoKSksXG4gICAgZnVuY0dlcmFTZXIoXCJoZXJiaXZvcm9cIixmdW5jTG9jYWxJbml0KCksZnVuY0xvY2FsSW5pdCgpKSxcbiAgICBmdW5jR2VyYVNlcihcImhlcmJpdm9yb1wiLGZ1bmNMb2NhbEluaXQoKSxmdW5jTG9jYWxJbml0KCkpLFxuICAgIGZ1bmNHZXJhU2VyKFwiaGVyYml2b3JvXCIsZnVuY0xvY2FsSW5pdCgpLGZ1bmNMb2NhbEluaXQoKSksXG4gICAgZnVuY0dlcmFTZXIoXCJvdm9cIixmdW5jTG9jYWxJbml0KCksZnVuY0xvY2FsSW5pdCgpKSxcbiAgICBmdW5jR2VyYVNlcihcIm92b1wiLGZ1bmNMb2NhbEluaXQoKSxmdW5jTG9jYWxJbml0KCkpLFxuICAgIGZ1bmNHZXJhU2VyKFwicGxhbnRhXCIsZnVuY0xvY2FsSW5pdCgpLGZ1bmNMb2NhbEluaXQoKSksXG4gICAgZnVuY0dlcmFTZXIoXCJwbGFudGFcIixmdW5jTG9jYWxJbml0KCksZnVuY0xvY2FsSW5pdCgpKSxcbiAgICBmdW5jR2VyYVNlcihcInBsYW50YVwiLGZ1bmNMb2NhbEluaXQoKSxmdW5jTG9jYWxJbml0KCkpLFxuICAgIGZ1bmNHZXJhU2VyKFwiY29jb1wiLGZ1bmNMb2NhbEluaXQoKSxmdW5jTG9jYWxJbml0KCkpXVxuICAgIHZhciBpPTA7XG4gICAgZm9yIChpPTA7IGkgPCBwZXJzb25hZ2Vucy5sZW5ndGg7IGkrKykge1xuICAgIC8vZm9yIChpPTA7IGkgPCA1OyBpKyspIHtcbiAgICAgIHBlcnNvbmFnZW5zW2ldLm9iakltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgcGVyc29uYWdlbnNbaV0ub2JqSW1nLnNyYyA9IHBlcnNvbmFnZW5zW2ldLmltZztcbiAgICB9XG4gICAgXG4gIH1cblxuICBmdW5jdGlvbiBpbmljaWFyR2FtZSgpe1xuXG4gICAgaW5pY2lhclBlcnNvbmFnZW5zKCk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBjb25zb2xlLmxvZygnfCBEaWdpdG91IGFsZ28gfCA84pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQJyk7XG4gICAgICB2YXIgdmFyS2V5Q29kZSA9IGV2ZW50LmtleUNvZGVcbiAgICAgIHZhciB2YXJLZXkgPSBldmVudC5rZXlcbiAgICAgIC8vIHZhciB2YXJzYWlkYSA9IFwia2V5ZG93biA9PiBcIjtcbiAgICAgIC8vIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAvLyAgIHZhcnNhaWRhICs9IFwiOyBldmVudC5kZWZhdWx0UHJldmVudGVkPVwiICsgZXZlbnQuZGVmYXVsdFByZXZlbnRlZFxuICAgICAgLy8gICAvL3JldHVybjsgLy8gU2hvdWxkIGRvIG5vdGhpbmcgaWYgdGhlIGRlZmF1bHQgYWN0aW9uIGhhcyBiZWVuIGNhbmNlbGxlZFxuICAgICAgLy8gfVxuICAgICAgLy92YXIgaGFuZGxlZCA9IGZhbHNlO1xuICAgICAgaWYgKHZhcktleUNvZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcInZhcktleUNvZGUgIT09IHVuZGVmaW5lZFwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJ2YXJLZXlDb2RlPVwiK3ZhcktleUNvZGUpO1xuICAgICAgICBjb25zb2xlLmxvZyhcInZhcktleT1cIit2YXJLZXkpO1xuICAgICAgICAvLyB2YXJzYWlkYSArPSBcIjsgZXZlbnQua2V5Q29kZT1cIiArIGV2ZW50LmtleUNvZGU7XG4gICAgICAgIC8vIC8vTWFuaXB1bGUgbyBldmVudG8gY29tIEtleWJvYXJkRXZlbnQua2V5Q29kZSBlIGRlZmluYSBoYW5kbGVkIHRydWUuXG4gICAgICAgIHZhciBldmVudG89XCJwYXJhclwiO1xuICAgICAgICBpZih2YXJLZXlDb2RlPT1cIjM4XCIgfHwgdmFyS2V5Q29kZT09MzggfHwgdmFyS2V5PT1cIkFycm93VXBcIil7XG4gICAgICAgICAgZXZlbnRvPVwic3ViaXJcIlxuICAgICAgICB9IGVsc2UgaWYodmFyS2V5Q29kZT09XCI0MFwiIHx8IHZhcktleUNvZGU9PTQwIHx8IHZhcktleT09XCJBcnJvd1VwXCIpe1xuICAgICAgICAgIGV2ZW50bz1cImRlc2NlclwiXG4gICAgICAgIH0gZWxzZSBpZih2YXJLZXlDb2RlPT1cIjM3XCIgfHwgdmFyS2V5Q29kZT09NDcgfHwgdmFyS2V5PT1cIkFycm93TGVmdFwiKXtcbiAgICAgICAgICBldmVudG89XCI8LVwiXG4gICAgICAgIH0gZWxzZSBpZih2YXJLZXlDb2RlPT1cIjM5XCIgfHwgdmFyS2V5Q29kZT09MzkgfHwgdmFyS2V5PT1cIkFycm93UmlnaHRcIil7XG4gICAgICAgICAgZXZlbnRvPVwiLT5cIlxuICAgICAgICB9IFxuICAgICAgICBjb25zb2xlLmxvZygnZXZlbnRvID0gJyArIGV2ZW50byk7XG4gICAgICAgIHVsdGltYVRlY2xhPWV2ZW50bztcbiAgICAgICAgbW92ZXJQZXJzb25hZ2VtKDEsIGV2ZW50byk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgY29uc29sZS5sb2coXCJ2YXJLZXlDb2RlID09IHVuZGVmaW5lZFwiKTtcbiAgICAgICAgYWxlcnQoXCJ2YXJLZXlDb2RlID09IHVuZGVmaW5lZFwiKTtcbiAgICAgIH1cbiAgICAgIC8vY29tcG9ydGFtZW50bygpO1xuICAgIH0sIHRydWUpO1xuICAgIFxuICAgIGRlc2VuaGFyQ2FudmFzKCk7XG4gICAgcmVsb2dpbyA9IHNldEludGVydmFsKGNvbXBvcnRhbWVudG8sIDUwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZ1bmNMb2NhbEluaXQoKXtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNTAwICsgMSlcbiAgICAvL3JldHVybiA1MDtcbiAgfVxuXG4gIHZhciByZWxvZ2lvO1xuXG4gIHZhciBwZXJzb25hZ2VucyA9IFtdXG5cbiAgdmFyIHVsdGltYVRlY2xhID0gXCJwYXJhclwiXG5cblx0Ly8gZnVuY3Rpb24gbW91c2UoZSl7XG4gIC8vICAgdmFyIHhjdXJzID0gMDtcbiAgLy8gICB2YXIgeWN1cnMgPSAwO1xuXHQvLyBcdGlmIChuYXZpZ2F0b3IuYXBwTmFtZSA9PSAnTmV0c2NhcGUnKXtcblx0Ly8gXHRcdHhjdXJzID0gZS5wYWdlWDtcblx0Ly8gXHRcdHljdXJzID0gZS5wYWdlWTtcblx0Ly8gXHR9IGVsc2Uge1xuXHQvLyBcdFx0eGN1cnMgPSBldmVudC5jbGllbnRYO1xuXHQvLyBcdFx0eWN1cnMgPSBldmVudC5jbGllbnRZO1xuICAvLyAgIH1cblx0Ly8gXHR4Y3Vycz14Y3Vycy0xOTBcblx0Ly8gXHR5Y3Vycz15Y3Vycy0yMDBcbiAgLy8gICBpZih4Y3Vycz4xMDApe1xuICAvLyAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0dvZHppbGxhJykuc3R5bGUubGVmdCA9IHhjdXJzKydweCc7XG4gIC8vICAgfVxuXHQvLyBcdGlmKHljdXJzPjIwMCl7XG4gIC8vICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnR29kemlsbGEnKS5zdHlsZS50b3AgPSB5Y3VycysncHgnO1xuICAvLyAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vc3RybycpLndpZHRoID0gKDIwMCt5Y3VycykgXG4gIC8vICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9zdHJvJykuaGVpZ2h0PSAoMTAwK3ljdXJzKVxuICAvLyAgIH1cblx0Ly8gfVxuICBcbiAgLy8gZnVuY3Rpb24gQWx0ZXJhUGVyc29uYWdlbSgpez1cbiAgLy8gICBkb2N1bWVudC5vbm1vdXNlbW92ZT1tb3VzZTtcbiAgLy8gICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9zdHJvJykuYWxlcnQ9PVwiZ29kemlsbGEyXCIpe1xuICAvLyAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vc3RybycpLnNyYyA9ICcvc3RhdGljL2Fzc2V0c3Y1L2ltZy9nYW1lL2dvZHppbGxhMS5naWYnOyBcbiAgLy8gICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3N0cm8nKS5hbGVydD1cImdvZHppbGxhMVwiXG4gIC8vICAgICAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3N0cm8nKS5jbGFzcz1cIkdvZHppbGxhXCJcblx0Ly8gXHR9ZWxzZXtcbiAgLy8gICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3N0cm8nKS5zcmMgPSAnL3N0YXRpYy9hc3NldHN2NS9pbWcvZ2FtZS90cmV4LnBuZyc7IFxuICAvLyAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vc3RybycpLmFsZXJ0PVwiZ29kemlsbGEyXCJcbiAgLy8gICAgIC8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vc3RybycpLmNsYXNzID0gXCJlc3F1ZXJkYVwiO1xuXHQvLyBcdH1cbiAgLy8gfVxuXG5cblxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8YSBpZD1cImJ0TGlua0luaWNpYXJcIiBjbGFzc05hbWU9XCJidENpbnphXCIgb25DbGljaz17KCkgPT4ge2luaWNpYXJHYW1lKCl9fT5JbmljaWFyIEdhbWU8L2E+XG4gICAgICA8YSBpZD1cImJ0TGlua0luaWNpYXJcIiBjbGFzc05hbWU9XCJidENpbnphXCIgb25DbGljaz17KCkgPT4ge3JlaW5pY2lhckdhbWUoKX19PlJlaW5pY2lhciBHYW1lPC9hPlxuICAgICAgPGNhbnZhcyBpZD1cImNhbnZhc0dhbWVcIiB3aWR0aD1cIjYwMFwiIGhlaWdodD1cIjYwMFwiPlxuXG4gICAgICA8L2NhbnZhcz5cbiAgICAgICAgICB7LyogPGltZyBcbiAgICAgICAgICAgICAgaWQ9XCJmdW5kb1wiXG4gICAgICAgICAgICAgIGFsdD1cIkZ1bmRvXCIgXG4gICAgICAgICAgICAgIHNyYz1cIi9zdGF0aWMvYXNzZXRzdjUvaW1nL2dhbWUvdGFucXVlY2xhcmVpcmEuanBnXCIgXG4gICAgICAgICAgICAgIHdpZHRoPVwiMTAwJVwiIFxuICAgICAgICAgICAgICB0aXRsZT1cIkZ1bmRvXCIvPiAqL31cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgLkdvZHppbGxhIHtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG5cbiAgICAgICAgfVxuICAgICAgICBjYW52YXMge1xuICAgICAgICAgIGJvcmRlciA6IHNvbGlkIDFweDtcbiAgICAgICAgfVxuICAgICAgICAuYnRDaW56YSB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuOHM7XG4gICAgICAgICAgICBmb250LWZhbWlseTogb2lUZXh0UmVndWxhciwgc2Fucy1zZXJpZjtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyNjI5M2M7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xuICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7XG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTsgLyoxNnB4Ki9cbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcblxuICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgICAgICAgYm9yZGVyOiBzb2xpZCAycHggIzRhNTE2YjtcbiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgIG91dGxpbmU6IDA7XG4gICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBtYXgtd2lkdGg6IDUwMHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAuYnRDaW56YTpob3ZlciB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC44cztcbiAgICAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDAuOHM7XG4gICAgICAgICAgICAtbW96LXRyYW5zaXRpb246IGFsbCAwLjhzO1xuICAgICAgICAgICAgLW8tdHJhbnNpdGlvbjogYWxsIDAuOHM7XG4gICAgICAgICAgICAvKmNvbG9yOiAjZDgyNDgyOyovXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNGE1MTZiO1xuICAgICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG4vLyA8ZGl2IGNsYXNzTmFtZT1cIkdvZHppbGxhXCIgaWQ9XCJwb3NpdGlvblwiPlxuLy8gPGEgaHJlZj1cIiNtZXVMaW5rXCIgb25jbGljaz1cIm15RnVuY3Rpb24oKTtcIj5cbi8vPGltZyBvbmxvYWQ9XCJtb3VzZSgpO1wiIGFsdD1cIkZ1bmRvXCIgc3JjPVwiaHR0cHM6Ly9pbWctcy1tc24tY29tLmFrYW1haXplZC5uZXQvdGVuYW50L2FtcC9lbnRpdHlpZC9CQlZTaEVhLmltZz9oPTQxNiZhbXA7dz03OTkmYW1wO209NiZhbXA7cT02MCZhbXA7dT10JmFtcDtvPWYmYW1wO2w9ZiZhbXA7eD04NzEmYW1wO3k9NjU0XCIgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiIHRpdGxlPVwiQ2Vuw6FyaW8gZGUgY2lkYWRlc1wiPjwvaW1nPlxuXG5leHBvcnQgZGVmYXVsdCBvcmdFY29zc2lzdGVtYVxuIl19 */\\n/*@ sourceURL=/home/oi402825/Documentos/Projetos/site_do_valente/components/organisms/orgEcossistema/index.js */\"));\n}; // <div className=\"Godzilla\" id=\"position\">\n// <a href=\"#meuLink\" onclick=\"myFunction();\">\n//<img onload=\"mouse();\" alt=\"Fundo\" src=\"https://img-s-msn-com.akamaized.net/tenant/amp/entityid/BBVShEa.img?h=416&amp;w=799&amp;m=6&amp;q=60&amp;u=t&amp;o=f&amp;l=f&amp;x=871&amp;y=654\" width=\"100%\" height=\"100%\" title=\"Cenário de cidades\"></img>\n\n\nexport default orgEcossistema;","map":{"version":3,"sources":["/home/oi402825/Documentos/Projetos/site_do_valente/components/organisms/orgEcossistema/index.js"],"names":["React","orgEcossistema","props","funcGeraSer","tipo","varPositX","varPositY","comportamento","serA","personagens","length","serB","menorDistancia","distanciaAtual","melhorDecisao","serMaisPerto","console","log","tempo","velocidade","img","objImg","src","direcao","objetivo","calDistancia","CalDecisao","moverPersonagem","desenharCanvas","CNV","document","getElementById","CTX","getContext","i","drawImage","x","y","width","height","font","fillText","varDistancia","RetonDecisao","tamanho","sorteio","Math","floor","random","personaAtual","varDirecao","reiniciarGame","iniciarPersonagens","funcLocalInit","Image","iniciarGame","window","addEventListener","event","varKeyCode","keyCode","varKey","key","undefined","evento","ultimaTecla","alert","relogio","setInterval"],"mappings":"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","sourcesContent":["import React from 'react'\n\n\n\nconst orgEcossistema = function (props) {\n\n\n  function funcGeraSer(tipo,varPositX,varPositY){\n    //Retorna os itens do Jogo (ex.: Cenario de fundo, personagens e avatar)\n    if(tipo==\"avatar\"){\n      return {\n        \"tipo\":\"avatar\",\n        \"hierarquia\":4,\n        \"width\": 20,\n        \"height\": 20,\n        \"x\":varPositX,\n        \"y\":varPositY,\n        \"velocidade\":3,\n        \"img\":\"https://images.vexels.com/media/users/3/177827/isolated/preview/03cbb4fb0d0318befadf121314e35d40-cabelo-de-monstro-monstro-liso-by-vexels.png\",\n        \"direcao\":\"parado\",\n        \"objetivo\":\"nada\",\n        \"tempo\":100\n      }\n    }else if(tipo==\"carnivoro\"){\n      return {\n        \"tipo\":\"carnivoro\",\n        \"hierarquia\":4,\n        \"width\": 20,\n        \"height\": 20,\n        \"x\":varPositX,\n        \"y\":varPositY,\n        \"velocidade\":3,\n        \"img\":\"https://image.flaticon.com/icons/svg/1236/1236125.svg\",\n        \"direcao\":\"parado\",\n        \"objetivo\":\"nada\",\n        \"tempo\":1000\n      }\n    }else if(tipo==\"herbivoro\"){\n      return {\n        \"tipo\":\"herbivoro\",\n        \"hierarquia\":3,\n        \"width\": 20,      \n        \"height\": 20,\n        \"x\":varPositX,\n        \"y\":varPositY,\n        \"velocidade\":4,\n        \"img\":\"https://images.vexels.com/media/users/3/177828/isolated/preview/2cad4138c11ac3e2798bed47b3e21084-monstro-olho-peludo-plano-by-vexels.png\",\n        \"direcao\":\"parado\",\n        \"objetivo\":\"nada\",\n        \"tempo\":100\n      }\n    }else if(tipo==\"ovo\"){\n      return {\n        \"tipo\":\"ovo\",\n        \"hierarquia\":2,\n        \"width\": 20,\n        \"height\": 20,\n        \"x\":varPositX,\n        \"y\":varPositY,\n        \"velocidade\":0,\n        \"img\":\"https://image.flaticon.com/icons/svg/1462/1462011.svg\",\n        \"direcao\":\"parado\",\n        \"objetivo\":\"nada\",\n        \"tempo\":100\n      }\n    }else if(tipo==\"planta\"){\n      return {\n        \"tipo\":\"planta\",\n        \"hierarquia\":1,\n        \"width\": 20,\n        \"height\": 20,\n        \"x\":varPositX,\n        \"y\":varPositY,\n        \"velocidade\":0,\n        \"img\":\"https://image.flaticon.com/icons/png/512/1431/premium/1431933.png\",\n        \"direcao\":\"parado\",\n        \"objetivo\":\"nada\",\n        \"tempo\":100\n      }\n    }else if(tipo==\"coco\"){\n      return {\n        \"tipo\":\"coco\",\n        \"hierarquia\":0,\n        \"width\": 20,\n        \"height\": 20,\n        \"x\":varPositX,\n        \"y\":varPositY,\n        \"velocidade\":0,\n        \"img\":\"https://image.flaticon.com/icons/svg/1642/1642901.svg\",\n        \"direcao\":\"parado\",\n        \"objetivo\":\"nada\",\n        \"tempo\":100\n      }  \n    }else if(tipo==\"cenario\"){\n      return {\n        \"tipo\":\"cenario\",\n        \"hierarquia\":0,\n        \"width\": 800,\n        \"height\": 600,\n        \"x\":varPositX,\n        \"y\":varPositY,\n        \"velocidade\":0,\n        \"img\":\"/static/assetsv5/img/game/tanqueclareira.jpg\",\n        \"direcao\":\"parado\",\n        \"objetivo\":\"nada\",\n        \"tempo\":100\n      }  \n    }\n  } \n\n\n\n  function comportamento(){\n    //O personagem 0 é o cenário.\n    //O personagem 1 é o avatar.\n    var serA = 2\n    for (serA=2; serA < personagens.length; serA++) {\n    //for (serA=2; serA < 5; serA++) {\n      if(personagens[serA].tipo==\"carnivoro\"||personagens[serA].tipo==\"herbivoro\"){\n        var serB = 1\n        var menorDistancia = 0;\n        var distanciaAtual = 0;\n        var melhorDecisao=\"parado\";\n        var serMaisPerto=1;\n        for (serB=2; serB < personagens.length; serB++) {\n        //for (serB=1; serB < 5; serB++) {\n          console.log('comparando o personagem '+serA+ 'com' +serB+ '.');\n          console.log('Personagem A ('+serA+') é um '+personagens[serA].tipo+'.');\n          console.log('Personagem B ('+serB+') é um '+personagens[serB].tipo+'.');\n          if(serA!=serB){\n              personagens[serA].tempo=personagens[serA].tempo-1;\n              if(personagens[serA].tipo==\"carnivoro\"){\n                  if(personagens[serA].tempo<1){\n                    personagens[serA].tipo=\"coco\"\n                    personagens[serA].velocidade=0\n                    personagens[serA].img=\"https://image.flaticon.com/icons/svg/1642/1642901.svg\"\n                    personagens[serA].objImg.src = personagens[serA].img;\n                    personagens[serA].direcao=\"parado\"\n                    personagens[serA].objetivo=\"nada\"\n                  }else if(personagens[serB].tipo==\"herbivoro\"){\n                      //Caçar\n                      distanciaAtual = calDistancia(serA,serB)\n                      if(menorDistancia<distanciaAtual){ \n                          menorDistancia=distanciaAtual;\n                          melhorDecisao=CalDecisao(serA,serB);\n                          serMaisPerto=serB;\n                      } \n                  }\n              }else if(personagens[serA].tipo==\"herbivoro\"){\n                  if(personagens[serB].tipo==\"planta\"){\n                      //Caçar\n                      distanciaAtual = calDistancia(serA,serB)\n                      if(menorDistancia<distanciaAtual){ \n                          menorDistancia=distanciaAtual;\n                          melhorDecisao=CalDecisao(serA,serB);\n                          serMaisPerto=serB;\n                      }\n                  }else if(personagens[serA].tipo==\"carnivoro\"){\n                      //Fugir\n                      distanciaAtual = calDistancia(serA,serB)\n                      if(menorDistancia<distanciaAtual){ \n                          menorDistancia=distanciaAtual;\n                          melhorDecisao=CalDecisao(serB,serA);\n                          serMaisPerto=serB;\n                      }\n                  }\n              }\n          }\n\n          //CTX.fillRect(personagens[i].x,personagens[i].y,personagens[i].width,personagens[i++].height);\n        } // Fim do FOR B\n        console.log('Personagem '+serA+' está a disanca de ' + menorDistancia + ' do .' + serMaisPerto);\n        console.log('A melhor decisão é ir para '+ melhorDecisao +'.');\n        \n        if(melhorDecisao==\"devorou\"){\n          personagens[serMaisPerto].tipo=\"coco\"\n          personagens[serMaisPerto].velocidade=0\n          personagens[serMaisPerto].img=\"https://image.flaticon.com/icons/svg/1642/1642901.svg\"\n          personagens[serMaisPerto].objImg.src = personagens[serMaisPerto].img;\n          personagens[serMaisPerto].direcao=\"parado\"\n          personagens[serMaisPerto].objetivo=\"nada\"\n          //personagens[serMaisPerto]=funcGeraSer(\"coco\",funcLocalInit(),funcLocalInit());\n        }\n\n        moverPersonagem(serA, melhorDecisao);\n      }\n    } // Fim do FOR A\n    desenharCanvas();\n  }\n\n  function desenharCanvas(){\n    // Desenha os objetos na tela.\n    var CNV = document.getElementById('canvasGame')\n    var CTX = CNV.getContext(\"2d\");\n    var i;\n    console.log('| inicio do FOR | <══════════════════════════════════════');\n    for (i=0; i < personagens.length; i++) {\n    //for (i=0; i < 5; i++) {\n      console.log('i='+i);\n      console.log('tipo='+personagens[i].tipo);\n      CTX.drawImage(personagens[i].objImg, personagens[i].x,personagens[i].y,personagens[i].width,personagens[i].height);  \n      CTX.font = \"10px Arial\";\n      CTX.fillText(i+'-'+personagens[i].tipo, personagens[i].x+25,personagens[i].y-10);\n      CTX.fillText(personagens[i].objetivo, personagens[i].x+25,personagens[i].y);\n      CTX.fillText(personagens[i].direcao, personagens[i].x+25,personagens[i].y+10);\n      //CTX.fillRect(personagens[i].x,personagens[i].y,personagens[i].width,personagens[i++].height);\n    }\n    console.log('| fim do FOR | <══════════════════════════════════════');\n  }\n\n  function calDistancia(serA,serB){\n    var varDistancia = 0;\n    if(personagens[serA].x==personagens[serB].x&&personagens[serA].y==personagens[serB].y){\n      varDistancia = 0;\n    }else{\n      \n      if(personagens[serA].x>personagens[serB].x){\n        //\"-1\"\n        varDistancia = personagens[serA].x-personagens[serB].x\n      }else if (personagens[serA].x<personagens[serB].x){\n        //\"+1\"\n        varDistancia = personagens[serA].x+personagens[serB].x\n      }\n      if(personagens[serA].y>personagens[serB].y){\n        //\"-1\"\n        varDistancia = varDistancia + personagens[serA].y-personagens[serB].y\n      }else if (personagens[serA].y<personagens[serB].y){\n        //\"+1\" \n        varDistancia = varDistancia + personagens[serA].y+personagens[serB].y\n      }\n\n    }\n    return varDistancia\n  }\n\n  function CalDecisao(serA,serB){\n    var RetonDecisao = \"parado\"\n    var tamanho = personagens[serA].width / 2\n    if((personagens[serA].x+tamanho>personagens[serB].x&&personagens[serA].x-tamanho<personagens[serB].x)&&(personagens[serA].y+tamanho>personagens[serB].y&&personagens[serA].y-tamanho<personagens[serB].y)){\n      RetonDecisao = \"devorou\";  \n    }else{\n      var sorteio = Math.floor((Math.random() * 2) + 1);\n      console.log('sorteio='+sorteio);\n      if(sorteio==1){\n        if(personagens[serA].y>personagens[serB].y){\n          //\"-1\"\n          RetonDecisao = \"subir\";\n        }else if (personagens[serA].y<personagens[serB].y){\n          //\"+1\" \n          RetonDecisao = \"descer\";\n        }\n      }else{\n        if(personagens[serA].x>personagens[serB].x){\n          //\"-1\"\n          RetonDecisao = \"<-\";\n        }else if (personagens[serA].x<personagens[serB].x){\n          //\"+1\"\n          RetonDecisao = \"->\";\n        }\n      }\n    }\n    return RetonDecisao\n    //personagens[i].width\n    //personagens[i].height\n  }\n\n  function moverPersonagem(personaAtual,varDirecao){\n    if(varDirecao==\"subir\"){\n      personagens[personaAtual].y = personagens[personaAtual].y - personagens[personaAtual].velocidade\n    } else if(varDirecao==\"descer\"){\n      personagens[personaAtual].y = personagens[personaAtual].y + personagens[personaAtual].velocidade\n    } else if(varDirecao==\"<-\"){\n      personagens[personaAtual].x = personagens[personaAtual].x - personagens[personaAtual].velocidade\n    } else if(varDirecao==\"->\"){\n      personagens[personaAtual].x = personagens[personaAtual].x + personagens[personaAtual].velocidade\n    } \n    personagens[personaAtual].direcao = varDirecao;\n    //alert(\"personaAtual=\"+personaAtual+\"; direcao=\"+direcao+\"; x=\"+personagens[personaAtual].x);\n    //desenharCanvas();\n  }\n\n  function reiniciarGame(){\n    iniciarPersonagens();\n  }\n\n  function iniciarPersonagens(){\n    personagens = [funcGeraSer(\"cenario\",0,0),\n    funcGeraSer(\"avatar\",funcLocalInit(),funcLocalInit()),\n    funcGeraSer(\"carnivoro\",funcLocalInit(),funcLocalInit()),\n    funcGeraSer(\"carnivoro\",funcLocalInit(),funcLocalInit()),\n    funcGeraSer(\"herbivoro\",funcLocalInit(),funcLocalInit()),\n    funcGeraSer(\"herbivoro\",funcLocalInit(),funcLocalInit()),\n    funcGeraSer(\"herbivoro\",funcLocalInit(),funcLocalInit()),\n    funcGeraSer(\"ovo\",funcLocalInit(),funcLocalInit()),\n    funcGeraSer(\"ovo\",funcLocalInit(),funcLocalInit()),\n    funcGeraSer(\"planta\",funcLocalInit(),funcLocalInit()),\n    funcGeraSer(\"planta\",funcLocalInit(),funcLocalInit()),\n    funcGeraSer(\"planta\",funcLocalInit(),funcLocalInit()),\n    funcGeraSer(\"coco\",funcLocalInit(),funcLocalInit())]\n    var i=0;\n    for (i=0; i < personagens.length; i++) {\n    //for (i=0; i < 5; i++) {\n      personagens[i].objImg = new Image();\n      personagens[i].objImg.src = personagens[i].img;\n    }\n    \n  }\n\n  function iniciarGame(){\n\n    iniciarPersonagens();\n\n    window.addEventListener(\"keydown\", function (event) {\n      console.log('| Digitou algo | <══════════════════════════════════════');\n      var varKeyCode = event.keyCode\n      var varKey = event.key\n      // var varsaida = \"keydown => \";\n      // if (event.defaultPrevented) {\n      //   varsaida += \"; event.defaultPrevented=\" + event.defaultPrevented\n      //   //return; // Should do nothing if the default action has been cancelled\n      // }\n      //var handled = false;\n      if (varKeyCode !== undefined) {\n        console.log(\"varKeyCode !== undefined\");\n        console.log(\"varKeyCode=\"+varKeyCode);\n        console.log(\"varKey=\"+varKey);\n        // varsaida += \"; event.keyCode=\" + event.keyCode;\n        // //Manipule o evento com KeyboardEvent.keyCode e defina handled true.\n        var evento=\"parar\";\n        if(varKeyCode==\"38\" || varKeyCode==38 || varKey==\"ArrowUp\"){\n          evento=\"subir\"\n        } else if(varKeyCode==\"40\" || varKeyCode==40 || varKey==\"ArrowUp\"){\n          evento=\"descer\"\n        } else if(varKeyCode==\"37\" || varKeyCode==47 || varKey==\"ArrowLeft\"){\n          evento=\"<-\"\n        } else if(varKeyCode==\"39\" || varKeyCode==39 || varKey==\"ArrowRight\"){\n          evento=\"->\"\n        } \n        console.log('evento = ' + evento);\n        ultimaTecla=evento;\n        moverPersonagem(1, evento);\n      }else{\n        console.log(\"varKeyCode == undefined\");\n        alert(\"varKeyCode == undefined\");\n      }\n      //comportamento();\n    }, true);\n    \n    desenharCanvas();\n    relogio = setInterval(comportamento, 50);\n  }\n\n  function funcLocalInit(){\n    return Math.floor(Math.random() * 500 + 1)\n    //return 50;\n  }\n\n  var relogio;\n\n  var personagens = []\n\n  var ultimaTecla = \"parar\"\n\n\t// function mouse(e){\n  //   var xcurs = 0;\n  //   var ycurs = 0;\n\t// \tif (navigator.appName == 'Netscape'){\n\t// \t\txcurs = e.pageX;\n\t// \t\tycurs = e.pageY;\n\t// \t} else {\n\t// \t\txcurs = event.clientX;\n\t// \t\tycurs = event.clientY;\n  //   }\n\t// \txcurs=xcurs-190\n\t// \tycurs=ycurs-200\n  //   if(xcurs>100){\n  //     document.getElementById('Godzilla').style.left = xcurs+'px';\n  //   }\n\t// \tif(ycurs>200){\n  //     document.getElementById('Godzilla').style.top = ycurs+'px';\n  //     document.getElementById('mostro').width = (200+ycurs) \n  //     document.getElementById('mostro').height= (100+ycurs)\n  //   }\n\t// }\n  \n  // function AlteraPersonagem(){=\n  //   document.onmousemove=mouse;\n  //   if(document.getElementById('mostro').alert==\"godzilla2\"){\n  //     document.getElementById('mostro').src = '/static/assetsv5/img/game/godzilla1.gif'; \n  //     document.getElementById('mostro').alert=\"godzilla1\"\n  //     //document.getElementById('mostro').class=\"Godzilla\"\n\t// \t}else{\n  //     document.getElementById('mostro').src = '/static/assetsv5/img/game/trex.png'; \n  //     document.getElementById('mostro').alert=\"godzilla2\"\n  //     //document.getElementById('mostro').class = \"esquerda\";\n\t// \t}\n  // }\n\n\n\n  return (\n    <div>\n      <a id=\"btLinkIniciar\" className=\"btCinza\" onClick={() => {iniciarGame()}}>Iniciar Game</a>\n      <a id=\"btLinkIniciar\" className=\"btCinza\" onClick={() => {reiniciarGame()}}>Reiniciar Game</a>\n      <canvas id=\"canvasGame\" width=\"600\" height=\"600\">\n\n      </canvas>\n          {/* <img \n              id=\"fundo\"\n              alt=\"Fundo\" \n              src=\"/static/assetsv5/img/game/tanqueclareira.jpg\" \n              width=\"100%\" \n              title=\"Fundo\"/> */}\n      <style jsx>{`\n        .Godzilla {\n          position: absolute;\n\n        }\n        canvas {\n          border : solid 1px;\n        }\n        .btCinza {\n            padding: 10px;\n            transition: all 0.8s;\n            font-family: oiTextRegular, sans-serif;\n            background-color: #26293c;\n            border-radius: 15px;\n            color: #ffffff;\n            display: block;\n            font-size: 1rem; /*16px*/\n            text-align: center;\n\n            text-decoration: none;\n            border: solid 2px #4a516b;\n            cursor: pointer;\n            outline: 0;\n            margin: 0;\n            box-sizing: border-box;\n            font-style: normal;\n            width: 100%;\n            max-width: 500px;\n          }\n          .btCinza:hover {\n            transition: all 0.8s;\n            -webkit-transition: all 0.8s;\n            -moz-transition: all 0.8s;\n            -o-transition: all 0.8s;\n            /*color: #d82482;*/\n            background-color: #4a516b;\n          }\n      `}</style>\n    </div>\n  )\n}\n\n// <div className=\"Godzilla\" id=\"position\">\n// <a href=\"#meuLink\" onclick=\"myFunction();\">\n//<img onload=\"mouse();\" alt=\"Fundo\" src=\"https://img-s-msn-com.akamaized.net/tenant/amp/entityid/BBVShEa.img?h=416&amp;w=799&amp;m=6&amp;q=60&amp;u=t&amp;o=f&amp;l=f&amp;x=871&amp;y=654\" width=\"100%\" height=\"100%\" title=\"Cenário de cidades\"></img>\n\nexport default orgEcossistema\n"]},"metadata":{},"sourceType":"module"}