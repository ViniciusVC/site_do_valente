{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\n// layout de Documentoscopia - Projeto Piloto\nimport React from 'react';\nimport Compress from 'compress.js'; //import Img from '../atoms/atImg/index.js';\n// class MyLink extends React.Component {\n//   render () {\n//     const { ...props } = this.props\n//     return <a {...props} onClick={this.handleClick} />\n//   }\n//   handleClick = event => {\n//     if (this.props.onClick) {\n//       var conteudo = this.props.onClick(event);\n//       //alert('conteudo='+conteudo);\n//       //alert(this.props);\n//       //console.log(this.props);\n//       alert(this.props.id);\n//       this.props.value = \"Clicou\";\n//       //formdocumentoscopia[conteudo].onClick();\n//       //event\n//     }\n//   }\n// }\n// class MyImg extends React.Component {\n//   render () {\n//     const { ...props } = this.props\n//     return <a {...props} onClick={this.handleClick} />\n//   }\n//   handleClick = event => {\n//     if (this.props.onClick) {\n//       var conteudo = this.props.onClick(event);\n//       alert('conteudo='+conteudo);\n//       //alert(this.props);\n//       //console.log(this.props);\n//       //alert(\"clicou em \"+this);\n//       //alert(conteudo);\n//       document.getElementById(conteudo).onClick();\n//       //conteudo.onClick();\n//       //formdocumentoscopia[conteudo].onClick();\n//       //event\n//     }\n//   }\n// }\n\nvar btEnviaArquivo = function btEnviaArquivo(props) {\n  function clicouFiles(IdFile) {\n    //alert('Clicou no documento '+IdFile);\n    var compress = new Compress();\n    var files = [document.getElementById(IdFile).files[0]];\n    document.getElementById(IdFile + \"Preview\").style.display = \"block\";\n    compress.compress(files, {\n      size: 0.2,\n      // the max size in MB, defaults to 2MB\n      quality: 0.75,\n      // the quality of the image, max is 1,\n      maxWidth: 900,\n      // the max width of the output image, defaults to 1920px\n      maxHeight: 900,\n      // the max height of the output image, defaults to 1920px\n      resize: true // defaults to true, set false if you do not want to resize the image width and height\n\n    }).then(function (images) {\n      console.log(files[0]);\n      console.log(images[0]);\n      console.log('_____________________________'); //.files\n      //.src\n      //.mimetype    \n      //.fieldname\n      //.value\n\n      var img = images[0];\n      var imagemSaida = document.getElementById(IdFile + \"Send\");\n      var imagemPreview = document.getElementById(IdFile + \"Preview\");\n      var nomeImagem = document.getElementById(IdFile + \"NomeImagem\"); // returns an array of compressed images\n      // imagemSaida.mimetype = `${images[0].prefix}${images[0].data}`;\n      // imagemSaida.files[0] = images[0].data;\n      // imagemSaida.data = images[0].data;\n      // imagemSaida.files[0].file.name = images[0].alt;\n      // imagemSaida.file.size = images[0].endSizeInMb;\n      // imagemSaida.files[0].file.size = images[0].endSizeInMb;        \n\n      imagemPreview.src = img.prefix + img.data;\n      imagemSaida.value = img.data;\n      nomeImagem.value = img.alt; //canvas.toDataURL();\n      //imagemSaida.data = img.prefix+img.data\n      //imagemSaida.files[0].File.name = img.prefix+img.data; //img.alt;\n      //imagemSaida.Files[0].File.size = img.endSizeInMb;\n      //imagemSaida.src = img.data;\n      //document.getElementById(IdFile+\"Send\").files[0] = img; \n      //`${images[0].prefix}${images[0].data}`     \n    });\n  } // var modo = \"html\";\n  // if( props.modo!=undefined){modo=props.modo};\n\n\n  var varId = \"id\";\n  var varId2 = \"idPreview\";\n  var varId3 = \"idSend\";\n  var varId4 = \"idNomeImagem\";\n\n  if (props.id != undefined) {\n    varId = props.id;\n    varId2 = varId + \"Preview\";\n    varId3 = varId + \"Send\";\n    varId4 = varId + \"NomeImagem\";\n  }\n\n  ;\n  var varName = \"nome\";\n\n  if (props.name != undefined) {\n    varName = props.name;\n  }\n\n  ;\n  var varValue = \"--\";\n\n  if (props.value != undefined) {\n    varValue = props.value;\n  }\n\n  ; // var varImg=\"../static/assetsv5/img/documentoscopia/carteira-icone.jpg\";\n  // if( props.img!=undefined){varImg=props.img};\n\n  return React.createElement(\"div\", {\n    className: \"jsx-3886979053\" + \" \" + \"divImgEnviArquivo\"\n  }, React.createElement(\"button\", {\n    onClick: function onClick() {\n      document.getElementById(varId).click();\n    },\n    className: \"jsx-3886979053\" + \" \" + \"BtEnviArquivoEnvio\"\n  }, \"Selecionar imagem\"), React.createElement(\"input\", {\n    type: \"file\",\n    id: varId,\n    name: varName,\n    value: varValue,\n    accept: \"image/*\",\n    required: true,\n    onChange: function onChange() {\n      clicouFiles(varId);\n    },\n    className: \"jsx-3886979053\" + \" \" + \"BtEnviArquivo\"\n  }), React.createElement(\"img\", {\n    id: varId2,\n    width: \"50px\",\n    height: \"50px\",\n    className: \"jsx-3886979053\" + \" \" + \"BtEnviArquivoText\"\n  }), React.createElement(\"input\", {\n    type: \"text\",\n    id: varId4,\n    name: varId4,\n    form: \"formdocumentoscopia\",\n    value: \" \",\n    className: \"jsx-3886979053\" + \" \" + \"BtEnviaArquivoNomeImagem\"\n  }), React.createElement(\"input\", {\n    type: \"text\",\n    id: varId3,\n    name: varId3,\n    form: \"formdocumentoscopia\",\n    value: \"testeX\",\n    className: \"jsx-3886979053\" + \" \" + \"BtEnviArquivoText\"\n  }), React.createElement(_JSXStyle, {\n    id: \"3886979053\"\n  }, [\".BtEnviaArquivoNomeImagem.jsx-3886979053{border:none;margin-left:5px;}\", \".BtEnviArquivoEnvio.jsx-3886979053{height:40px;margin:10px;margin-left:0px;padding:10px;border-radius:6px;border:solid 1px #fb851c;color:#f8562c;text-align:center;cursor:pointer;background-color:#fff;}\", \".BtEnviArquivoText.jsx-3886979053{display:none;border-radius:10px;}\", \".BtEnviArquivoPreview.jsx-3886979053{margin-top:10px;}\", \".divImgEnviArquivo.jsx-3886979053{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}\", \".BtEnviArquivo.jsx-3886979053{display:none;}\"]));\n};\n\nexport default btEnviaArquivo;","map":null,"metadata":{},"sourceType":"module"}