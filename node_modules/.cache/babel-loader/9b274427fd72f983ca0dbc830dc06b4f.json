{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react'; //import Link from 'next/link'\n\nimport Head from 'next/head';\nimport FaviIcon from '../../atoms/atFavIcon';\nimport Layout from '../../moleculas/layout';\nimport MoHead from '../../moleculas/moHead';\nimport * as Util from '../../../controller/util.js';\n\nvar atendimentoOi = function atendimentoOi(props) {\n  console.log('╔════════════════════════════════════════╗');\n  console.log('║      GAME    Tanque de Guerra          ║');\n  console.log('╚════════════════════════════════════════╝');\n  var regiao = Util.validaProps(props.regiao, \"RJ\");\n  var modo = Util.validaProps(props.modo, \"html\");\n\n  function iniciarGame() {\n    document.querySelector('body').style.cursor = 'crosshair';\n    var game = new Phaser.Game(800, 600, Phaser.CANVAS, 'divgametanque', {\n      preload: preload,\n      create: create,\n      update: update\n    }); //Variáveis Globais\n\n    var tank,\n        controls = {},\n        cannon,\n        balas,\n        fireRate = 100,\n        nextFire = 0;\n\n    function preload() {\n      game.load.image('tank', '/static/assetsv5/img/game/tanquetank02.png');\n      game.load.image('cannon', '/static/assetsv5/img/game/tanquecannon02.png');\n      game.load.image('bullet', '/static/assetsv5/img/game/tanquebullet.png');\n      game.load.image(\"background\", \"/static/assetsv5/img/game/tanqueclareira.jpg\");\n    }\n\n    function create() {\n      game.add.tileSprite(0, 0, 800, 600, 'background');\n      game.physics.startSystem(Phaser.Physics.ARCADE); //game.stage.backgroundColor = '#C78839';\n      //game.stage.background = \"\";\n\n      tank = game.add.sprite(game.world.centerX, game.world.centerY, 'tank');\n      tank.anchor.set(.5);\n      game.physics.enable(tank);\n      balas = game.add.group();\n      balas.enableBody = true;\n      balas.createMultiple(50, 'bullet');\n      balas.setAll('checkWorldBounds', true);\n      balas.setAll('outOfBoundsKill', true);\n      balas.setAll('anchor.x', .5);\n      balas.setAll('anchor.y', .5);\n      cannon = game.add.sprite(tank.x, tank.y, 'cannon');\n      cannon.anchor.set(.3, .5);\n      game.physics.enable(cannon);\n      controls.up = game.input.keyboard.addKey(Phaser.Keyboard.W);\n      controls.left = game.input.keyboard.addKey(Phaser.Keyboard.A);\n      controls.down = game.input.keyboard.addKey(Phaser.Keyboard.S);\n      controls.right = game.input.keyboard.addKey(Phaser.Keyboard.D);\n    }\n\n    function update() {\n      cannon.x = tank.x;\n      cannon.y = tank.y;\n      cannon.rotation = game.physics.arcade.angleToPointer(cannon);\n\n      if (controls.up.isDown) {\n        //Aplica uma velocidade nos eixos X e Y do sprite dado o de inclinação deste\n        //Recebe como parâmetros: a inclinação em radianos, a velocidade a ser aplicada e o parâmetro a ser afetado\n        game.physics.arcade.velocityFromRotation(tank.rotation, 100, tank.body.velocity);\n      } else if (controls.down.isDown) {\n        game.physics.arcade.velocityFromRotation(tank.rotation, -50, tank.body.velocity);\n      } else {\n        tank.body.velocity.set(0);\n      }\n\n      if (controls.left.isDown) {\n        if (controls.down.isDown) {\n          tank.body.rotation++;\n        } else {\n          tank.body.rotation--;\n        }\n      } else if (controls.right.isDown) {\n        if (controls.down.isDown) {\n          tank.body.rotation--;\n        } else {\n          tank.body.rotation++;\n        }\n      }\n\n      if (game.input.activePointer.isDown) {\n        fire();\n      } //permite a realocação de um sprite em relação ao mundo do jogo\n      //recebe como parâmetros: o sprite a ser realocado e uma margem em pixels \n\n\n      game.world.wrap(tank, 75);\n      game.world.wrap(cannon, 75);\n    }\n\n    function fire() {\n      if (game.time.now > nextFire && balas.countDead() > 0) {\n        var bullet = balas.getFirstDead();\n        bullet.reset(cannon.x + Math.cos(cannon.rotation) * 80, cannon.y + Math.sin(cannon.rotation) * 80);\n        game.physics.arcade.moveToPointer(bullet, 300);\n        nextFire = game.time.now + fireRate;\n      }\n    }\n\n    document.getElementById('btLinkIniciar').style.display = \"none\";\n  }\n\n  return React.createElement(\"div\", {\n    className: \"jsx-3603607264\"\n  }, React.createElement(MoHead, {\n    modo: modo,\n    title: \"Teste Game Tanque PhaserJS\",\n    description: \"Desenvolvimento de Game com PhaserJS - Tanque de Guerra.\",\n    canonical: \"/\"\n  }), React.createElement(Head, null, React.createElement(\"script\", {\n    src: \"/static/assetsv5/js/phaser.min.js\",\n    className: \"jsx-3603607264\"\n  })), React.createElement(Layout, {\n    regiao: regiao,\n    modo: modo\n  }, React.createElement(\"h1\", {\n    className: \"jsx-3603607264\"\n  }, \"Teste Game Tanque PhaserJS\"), React.createElement(\"p\", {\n    className: \"jsx-3603607264\"\n  }, \"Estudo de desenvolvimento de game com PhaserJS.\"), React.createElement(\"div\", {\n    id: \"divgametanque\",\n    className: \"jsx-3603607264\"\n  }), \"S=Andar para traz\", React.createElement(\"br\", {\n    className: \"jsx-3603607264\"\n  }), \"W=Andar para frente\", React.createElement(\"br\", {\n    className: \"jsx-3603607264\"\n  }), \"A=Virar para a esquerda\", React.createElement(\"br\", {\n    className: \"jsx-3603607264\"\n  }), \"D=Virar para a direita\", React.createElement(\"br\", {\n    className: \"jsx-3603607264\"\n  }), React.createElement(\"a\", {\n    id: \"btLinkIniciar\",\n    onClick: function onClick() {\n      iniciarGame();\n    },\n    className: \"jsx-3603607264\" + \" \" + \"btLinkBranco\"\n  }, \"Iniciar Game\")), React.createElement(_JSXStyle, {\n    id: \"3603607264\"\n  }, [\".divgametanque.jsx-3603607264{position:absolute;}\", \".btLinkBranco.jsx-3603607264{font-family:oiTextRegular,sans-serif;background-color:#ffffff;border-radius:8px;color:#222222;display:block;font-size:1rem;height:3.42857143rem;text-align:center;width:300px;-webkit-text-decoration:none;text-decoration:none;border:solid 1px #dbdbdb;cursor:pointer;outline:0;margin:0;padding:1.2rem;box-sizing:border-box;font-style:normal;-webkit-transition:0.5s;transition:0.5s;-webkit-box-shadow:2px 2px 20px rgba(1,1,1,0.17);-moz-box-shadow:2px 2px 20px rgba(1,1,1,0.17);box-shadow:2px 2px 20px rgba(1,1,1,0.17);}\", \".btLinkBranco.jsx-3603607264:hover{-webkit-box-shadow:1px 1px 10px rgba(1,1,1,0.47);-moz-box-shadow:1px 1px 10px rgba(1,1,1,0.47);box-shadow:1px 1px 10px rgba(1,1,1,0.47);}\"]));\n}; // <div className=\"Godzilla\" id=\"position\">\n// <a href=\"#meuLink\" onclick=\"myFunction();\">\n//<img onload=\"mouse();\" alt=\"Fundo\" src=\"https://img-s-msn-com.akamaized.net/tenant/amp/entityid/BBVShEa.img?h=416&amp;w=799&amp;m=6&amp;q=60&amp;u=t&amp;o=f&amp;l=f&amp;x=871&amp;y=654\" width=\"100%\" height=\"100%\" title=\"Cenário de cidades\"></img>\n\n\nexport default atendimentoOi;","map":null,"metadata":{},"sourceType":"module"}