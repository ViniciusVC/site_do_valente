{"version":3,"file":"static/webpack/static/development/pages/routes/game/tanque.js.f8cc2346e5afac893b36.hot-update.js","sources":["webpack:///./components/templates/game/tanque.js"],"sourcesContent":["import React from 'react'\n//import Link from 'next/link'\nimport Head from 'next/head'\nimport FaviIcon from '../../atoms/atFavIcon'\nimport Layout from '../../moleculas/layout'\nimport * as Util from '../../../controller/util.js';\n\nconst atendimentoOi = function (props) {\n\n  console.log('╔════════════════════════════════════════╗');\n  console.log('║      GAME    controleogodzilla         ║');\n  console.log('╚════════════════════════════════════════╝');\n\n  var regiao = Util.validaProps(props.regiao , \"RJ\");\n  var modo = Util.validaProps(props.modo, \"html\");\n\n  function iniciarGame(){\n\n    document.querySelector('body').style.cursor = 'crosshair';\n     \n    var game = new Phaser.Game(800,600,Phaser.CANVAS,'divgametanque',{preload:preload,create:create,update:update});\n    \n    //Variáveis Globais\n    var tank,controls = {},cannon,balas,fireRate = 100,nextFire = 0;\n  \n    function preload(){\n      game.load.image('tank','/static/assetsv5/img/game/tanquetank02.png');\n      game.load.image('cannon','/static/assetsv5/img/game/tanquecannon02.png');\n      game.load.image('bullet','/static/assetsv5/img/game/tanquebullet.png');\n      game.load.image(\"background\", \"/static/assetsv5/img/game/tanqueclareira.jpg\");\n    }\n    \n    function create(){\n      game.add.tileSprite(0, 0, 800, 600, 'background');\n      game.physics.startSystem(Phaser.Physics.ARCADE);\n      //game.stage.backgroundColor = '#C78839';\n      //game.stage.background = \"\";\n  \n      tank = game.add.sprite(game.world.centerX,game.world.centerY,'tank');\n      tank.anchor.set(.5);\n      game.physics.enable(tank);\n      \n      balas = game.add.group();\n      balas.enableBody = true;\n      balas.createMultiple(50,'bullet');\n      balas.setAll('checkWorldBounds',true);\n      balas.setAll('outOfBoundsKill',true);\n      balas.setAll('anchor.x',.5);\n      balas.setAll('anchor.y',.5);\n      \n      cannon = game.add.sprite(tank.x,tank.y,'cannon');\n  \n      cannon.anchor.set(.3,.5);\n      game.physics.enable(cannon);\n      \n      \n      controls.up = game.input.keyboard.addKey(Phaser.Keyboard.W);\n      controls.left = game.input.keyboard.addKey(Phaser.Keyboard.A);\n      controls.down = game.input.keyboard.addKey(Phaser.Keyboard.S);\n      controls.right = game.input.keyboard.addKey(Phaser.Keyboard.D);\n    }\n    \n    function update(){\n      cannon.x = tank.x;\n      cannon.y = tank.y;\n      cannon.rotation = game.physics.arcade.angleToPointer(cannon);\n    \n      if(controls.up.isDown){\n        //Aplica uma velocidade nos eixos X e Y do sprite dado o de inclinação deste\n        //Recebe como parâmetros: a inclinação em radianos, a velocidade a ser aplicada e o parâmetro a ser afetado\n        game.physics.arcade.velocityFromRotation(tank.rotation,100,tank.body.velocity);\n      } else\n      if(controls.down.isDown){\n        game.physics.arcade.velocityFromRotation(tank.rotation,-50,tank.body.velocity);\n      } else {\n        tank.body.velocity.set(0);\n      }\n      \n      if(controls.left.isDown){\n        if(controls.down.isDown){\n          tank.body.rotation++;\n        } else {\n          tank.body.rotation--;\n        }\n      } else\n      if(controls.right.isDown){\n        if(controls.down.isDown){\n          tank.body.rotation--;\n        } else {\n          tank.body.rotation++;\n        }\n      }\n      \n      if(game.input.activePointer.isDown){\n        fire();\n      }\n      \n      //permite a realocação de um sprite em relação ao mundo do jogo\n      //recebe como parâmetros: o sprite a ser realocado e uma margem em pixels \n      game.world.wrap(tank,75);\n      game.world.wrap(cannon,75);\n    }\n    \n    function fire(){\n      if(game.time.now > nextFire && balas.countDead() > 0){\n        var bullet = balas.getFirstDead();\n          bullet.reset(cannon.x + Math.cos(cannon.rotation) * 80,cannon.y + Math.sin(cannon.rotation) * 80);\n          \n          game.physics.arcade.moveToPointer(bullet,300);\n          \n          nextFire = game.time.now + fireRate;\n      }\n    }\n\n    document.getElementById('btLinkIniciar').style.display= \"none\"; \n  }\n\n  return (\n    <div>\n      <Head>\n        <title>Teste Game Tanque PhaserJS</title>\n        <FaviIcon />\n        <meta name=\"description\" content=\"Teste Game Tanque PhaserJS\" />\n        <link rel=\"canonical\" href=\"/game/tanque/\" />\n        <link rel=\"amphtml\" href=\"/amp/game/tanque/\" />\n        <script src=\"/static/assetsv5/js/phaser.min.js\"></script>\n      </Head>\n      <Layout regiao={regiao} modo={modo}>\n          <h1>Teste Game Tanque PhaserJS</h1>\n          <p>Estudo de desenvolvimento de game com PhaserJS.</p>\n          <div id=\"divgametanque\"></div>\n          S=Andar para traz<br/>\n          W=Andar para frente<br/>\n          A=Virar para a esquerda<br/>\n          D=Virar para a direita<br/>\n          <a id=\"btLinkIniciar\" className=\"btLinkBranco\" onClick={() => {iniciarGame()}}>Iniciar Game</a>\n      </Layout>\n      <style jsx>{`\n        .divgametanque {\n          position: absolute;\n          width: 90%;\n        }\n        .btLinkBranco {\n            font-family: oiTextRegular, sans-serif;\n            background-color: #ffffff;\n            border-radius: 8px;\n            color: #222222;\n            display: block;\n            font-size: 1rem; /*16px*/\n            height: 3.42857143rem;\n            text-align: center;\n            width: 300px;\n            text-decoration: none;\n            border: solid 1px #dbdbdb;\n            cursor: pointer;\n            outline: 0;\n            margin: 0;\n            padding: 1.2rem;\n            box-sizing: border-box;\n            font-style: normal;\n            transition: 0.5s;\n            -webkit-box-shadow: 2px 2px 20px rgba(1, 1, 1, 0.17);\n            -moz-box-shadow: 2px 2px 20px rgba(1, 1, 1, 0.17);\n            box-shadow: 2px 2px 20px rgba(1, 1, 1, 0.17);\n          }\n          .btLinkBranco:hover {\n            -webkit-box-shadow: 1px 1px 10px rgba(1, 1, 1, 0.47);\n            -moz-box-shadow: 1px 1px 10px rgba(1, 1, 1, 0.47);\n            box-shadow: 1px 1px 10px rgba(1, 1, 1, 0.47);\n          }\n      `}</style>\n\n    </div>\n  )\n}\n\n// <div className=\"Godzilla\" id=\"position\">\n// <a href=\"#meuLink\" onclick=\"myFunction();\">\n\n//<img onload=\"mouse();\" alt=\"Fundo\" src=\"https://img-s-msn-com.akamaized.net/tenant/amp/entityid/BBVShEa.img?h=416&amp;w=799&amp;m=6&amp;q=60&amp;u=t&amp;o=f&amp;l=f&amp;x=871&amp;y=654\" width=\"100%\" height=\"100%\" title=\"Cenário de cidades\"></img>\n\nexport default atendimentoOi\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAjBA;AAAA;AAwDA;AAGA;AAEA;AACA;AACA;AAAA;;;;A","sourceRoot":""}